-- Script to create and enable Salt Reporting in HMCR database.

-- ROLE AND PERMISSION BINDING:
-- Step 1: Insert into HMR_PERMISSION and capture PERMISSION_ID
DECLARE @NewPermissionID TABLE (PERMISSION_ID INT);
INSERT INTO [dbo].[HMR_PERMISSION] 
    ([PERMISSION_ID],[NAME],[DESCRIPTION],[END_DATE],[APP_CREATE_USERID],[APP_CREATE_TIMESTAMP],[APP_CREATE_USER_GUID],[APP_CREATE_USER_DIRECTORY],[APP_LAST_UPDATE_USERID],[APP_LAST_UPDATE_TIMESTAMP],[APP_LAST_UPDATE_USER_GUID],[APP_LAST_UPDATE_USER_DIRECTORY]) 
OUTPUT INSERTED.PERMISSION_ID INTO @NewPermissionID
VALUES 
    (NEXT VALUE FOR [dbo].[HMR_RL_PERM_ID_SEQ],'SALT','Salt Reporting',NULL,user_name(),GETUTCDATE(),'31587d92-0297-4493-a7e5-c078c6ba0d37','IDIR',user_name(),GETUTCDATE(),'31587d92-0297-4493-a7e5-c078c6ba0d37','IDIR');

-- Step 2: Insert into HMR_ROLE and capture ROLE_ID
DECLARE @NewRoleID TABLE (ROLE_ID INT);
INSERT INTO [dbo].[HMR_ROLE] 
    ([ROLE_ID],[NAME],[DESCRIPTION],[END_DATE],[APP_CREATE_USERID],[APP_CREATE_TIMESTAMP],[APP_CREATE_USER_GUID],[APP_CREATE_USER_DIRECTORY],[APP_LAST_UPDATE_USERID],[APP_LAST_UPDATE_TIMESTAMP],[APP_LAST_UPDATE_USER_GUID],[APP_LAST_UPDATE_USER_DIRECTORY]) 
OUTPUT INSERTED.ROLE_ID INTO @NewRoleID
VALUES 
    (NEXT VALUE FOR [dbo].[HMR_RL_ID_SEQ],'Salt Reporting','Submit and view Submitted Annual Salt Report',NULL,user_name(),GETUTCDATE(),'31587d92-0297-4493-a7e5-c078c6ba0d37','IDIR',user_name(),GETUTCDATE(),'31587d92-0297-4493-a7e5-c078c6ba0d37','IDIR');

-- Step 3: Insert into HMR_ROLE_PERMISSION using captured PERMISSION_ID and ROLE_ID
INSERT INTO [dbo].[HMR_ROLE_PERMISSION] 
    ([ROLE_PERMISSION_ID],[ROLE_ID],[PERMISSION_ID],[END_DATE],[APP_CREATE_USERID],[APP_CREATE_TIMESTAMP],[APP_CREATE_USER_GUID],[APP_CREATE_USER_DIRECTORY],[APP_LAST_UPDATE_USERID],[APP_LAST_UPDATE_TIMESTAMP],[APP_LAST_UPDATE_USER_GUID],[APP_LAST_UPDATE_USER_DIRECTORY]) 
SELECT 
    NEXT VALUE FOR [dbo].[HMR_RL_PERM_ID_SEQ], 
    r.ROLE_ID, 
    p.PERMISSION_ID, 
    NULL, 
    user_name(), 
    GETUTCDATE(), 
    '31587d92-0297-4493-a7e5-c078c6ba0d37', 
    'IDIR', 
    user_name(), 
    GETUTCDATE(), 
    '31587d92-0297-4493-a7e5-c078c6ba0d37', 
    'IDIR'
FROM @NewRoleID r, @NewPermissionID p;

-- Step 4: Assign the newly created role to all users in HMR_SYSTEM_USER, with END_DATE check
DECLARE @UserID INT;
DECLARE @CapturedRoleID INT;

-- Retrieve the single role ID from the table variable
SELECT @CapturedRoleID = ROLE_ID FROM @NewRoleID;

DECLARE user_cursor CURSOR FOR 
SELECT SYSTEM_USER_ID 
FROM [dbo].[HMR_SYSTEM_USER]
WHERE END_DATE IS NULL OR END_DATE > GETDATE();

OPEN user_cursor;

FETCH NEXT FROM user_cursor INTO @UserID;

WHILE @@FETCH_STATUS = 0
BEGIN
    INSERT INTO [dbo].[HMR_USER_ROLE] 
        ([USER_ROLE_ID],[ROLE_ID],[SYSTEM_USER_ID],[END_DATE],[APP_CREATE_USERID],[APP_CREATE_TIMESTAMP],[APP_CREATE_USER_GUID],[APP_CREATE_USER_DIRECTORY],[APP_LAST_UPDATE_USERID],[APP_LAST_UPDATE_TIMESTAMP],[APP_LAST_UPDATE_USER_GUID],[APP_LAST_UPDATE_USER_DIRECTORY]) 
    SELECT 
        NEXT VALUE FOR [dbo].[HMR_USR_RL_ID_SEQ], 
        @CapturedRoleID, 
        @UserID, 
        NULL, 
        user_name(), 
        GETUTCDATE(), 
        '31587d92-0297-4493-a7e5-c078c6ba0d37', 
        'IDIR', 
        user_name(), 
        GETUTCDATE(), 
        '31587d92-0297-4493-a7e5-c078c6ba0d37', 
        'IDIR'
    WHERE NOT EXISTS (
        SELECT 1
        FROM [dbo].[HMR_USER_ROLE] ur
        WHERE ur.ROLE_ID = @CapturedRoleID 
        AND ur.SYSTEM_USER_ID = @UserID
    );

    FETCH NEXT FROM user_cursor INTO @UserID;
END;

CLOSE user_cursor;
DEALLOCATE user_cursor;

-- Sequence Definitions
-- HMR_SLT_RPT_ID_SEQ: Sequence for report IDs
CREATE SEQUENCE [dbo].[HMR_SLT_RPT_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE 1
 MAXVALUE 999999999
 CACHE  50 
GO

-- HMR_SLT_STOCKPILE_ID_SEQ: Sequence for stockpile IDs
CREATE SEQUENCE [dbo].[HMR_SLT_STOCKPILE_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE 1
 MAXVALUE 999999999
 CACHE  50 
GO

-- HMR_SLT_APPENDIX_ID_SEQ: Sequence for appendix IDs
CREATE SEQUENCE [dbo].[HMR_SLT_APPENDIX_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE 1
 MAXVALUE 999999999
 CACHE  50 
GO

-- HMR_SALT_STOCKPILE_H_ID_SEQ: Sequence for stockpile history IDs
CREATE SEQUENCE [dbo].[HMR_SALT_STOCKPILE_H_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE 1
 MAXVALUE 2147483647
 CACHE  50 
GO

-- HMR_SALT_APPENDIX_H_ID_SEQ: Sequence for appendix history IDs
CREATE SEQUENCE [dbo].[HMR_SALT_APPENDIX_H_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE 1
 MAXVALUE 2147483647
 CACHE  50 
GO

-- HMR_SALT_REPORT_H_ID_SEQ: Sequence for report history IDs
CREATE SEQUENCE [dbo].[HMR_SALT_REPORT_H_ID_SEQ] 
 AS [bigint]
 START WITH 1
 INCREMENT BY 1
 MINVALUE 1
 MAXVALUE 2147483647
 CACHE  50 
GO

/****** Object:  Table [dbo].[HMR_SALT_APPENDIX]    Script Date: 2024-04-16 11:48:30 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[HMR_SALT_APPENDIX](
	[ACC_MET_SRV_ACH] [int] NULL,
	[ACC_MET_SRV_ID] [int] NULL,
	[ACC_RWIS_DATA_ACH] [int] NULL,
	[ACC_RWIS_DATA_ID] [int] NULL,
	[ADPT_ANTI_ICING_ACH] [int] NULL,
	[ADPT_ANTI_ICING_ID] [int] NULL,
	[ADPT_PRE_WET_NET_ACH] [int] NULL,
	[ADPT_PRE_WET_NET_ID] [int] NULL,
	[ADPT_PRE_WET_ABR_ACH] [int] NULL,
	[ADPT_PRE_WET_ABR_ID] [int] NULL,
	[ASS_PLW_EFF_ACH] [int] NULL,
	[ASS_PLW_EFF_ID] [int] NULL,
	[COL_MELT_WATER_PT_ACH] [int] NULL,
	[COL_MELT_WATER_PT_ID] [int] NULL,
	[CON_ENV_MON_ACH] [int] NULL,
	[CON_ENV_MON_ID] [int] NULL,
	[CONS_COLL_POND_ACH] [int] NULL,
	[CONS_COLL_POND_ID] [int] NULL,
	[CONS_PERM_COV_STRUC_ACH] [int] NULL,
	[CONS_PERM_COV_STRUC_ID] [int] NULL,
	[CTRL_TRK_LOAD_ACH] [int] NULL,
	[CTRL_TRK_LOAD_ID] [int] NULL,
	[DES_TRK_LOAD_AREA_ACH] [int] NULL,
	[DES_TRK_LOAD_AREA_ID] [int] NULL,
	[DES_RUNOFF_CTRL_ACH] [int] NULL,
	[DES_RUNOFF_CTRL_ID] [int] NULL,
	[DEV_PROG_PHASE_OUT_ACH] [int] NULL,
	[DEV_PROG_PHASE_OUT_ID] [int] NULL,
	[EXP_INDOOR_ABR_ACH] [int] NULL,
	[EXP_INDOOR_ABR_ID] [int] NULL,
	[ID_SALT_VUL_AREAS_ACH] [int] NULL,
	[ID_SALT_VUL_AREAS_ID] [int] NULL,
	[IMP_PAD_ABR_ACH] [int] NULL,
	[IMP_PAD_ABR_ID] [int] NULL,
	[IMPL_PROT_MIT_MEAS_ACH] [int] NULL,
	[IMPL_PROT_MIT_MEAS_ID] [int] NULL,
	[INC_PRE_WET_EQ_ACH] [int] NULL,
	[INC_PRE_WET_EQ_ID] [int] NULL,
	[INST_ADD_RWIS_ACH] [int] NULL,
	[INST_ADD_RWIS_ID] [int] NULL,
	[INST_EQ_WASH_BAY_ACH] [int] NULL,
	[INST_EQ_WASH_BAY_ID] [int] NULL,
	[INST_GPS_COMP_SYS_ACH] [int] NULL,
	[INST_GPS_COMP_SYS_ID] [int] NULL,
	[INST_GRND_SPD_CTRL_ACH] [int] NULL,
	[INST_GRND_SPD_CTRL_ID] [int] NULL,
	[INST_IR_THERM_ACH] [int] NULL,
	[INST_IR_THERM_ID] [int] NULL,
	[INST_LIQ_ANTI_IC_ACH] [int] NULL,
	[INST_LIQ_ANTI_IC_ID] [int] NULL,
	[INST_MOBILE_RWIS_ACH] [int] NULL,
	[INST_MOBILE_RWIS_ID] [int] NULL,
	[INST_NEW_SITE_LP_ACH] [int] NULL,
	[INST_NEW_SITE_LP_ID] [int] NULL,
	[MAN_SALT_CONT_WAT_ACH] [int] NULL,
	[MAN_SALT_CONT_WAT_ID] [int] NULL,
	[NEW_SALT_DOME_IND_ACH] [int] NULL,
	[NEW_SALT_DOME_IND_ID] [int] NULL,
	[NEW_SALT_DOME_PAD_ACH] [int] NULL,
	[NEW_SALT_DOME_PAD_ID] [int] NULL,
	[OTHER_ACH] [int] NULL,
	[OTHER_ID] [int] NULL,
	[OTHER_SNOW_DISP_ACH] [int] NULL,
	[OTHER_SNOW_DISP_ID] [int] NULL,
	[OTHER_SPEC_ACH] [int] NULL,
	[OTHER_SPEC_ID] [int] NULL,
	[OTHER_VUL_AREAS_ACH] [int] NULL,
	[OTHER_VUL_AREAS_ID] [int] NULL,
	[PRIO_AREAS_ADD_PROT_ACH] [int] NULL,
	[PRIO_AREAS_ADD_PROT_ID] [int] NULL,
	[RECONF_OP_FAC_ACH] [int] NULL,
	[RECONF_OP_FAC_ID] [int] NULL,
	[RECONF_STOR_CAP_ACH] [int] NULL,
	[RECONF_STOR_CAP_ID] [int] NULL,
	[REM_CONT_SNOW_ACH] [int] NULL,
	[REM_CONT_SNOW_ID] [int] NULL,
	[REV_SALT_USE_ACH] [int] NULL,
	[REV_SALT_USE_ID] [int] NULL,
	[SALT_REPORT_ID] [numeric](9, 0) NULL,
	[SPILL_PREV_PLAN_ACH] [int] NULL,
	[SPILL_PREV_PLAN_ID] [int] NULL,
	[TEST_NEW_PROD_ACH] [int] NULL,
	[TEST_NEW_PROD_ID] [int] NULL,
	[UPG_SITE_LP_ACH] [int] NULL,
	[UPG_SITE_LP_ID] [int] NULL,
	[UPG_SALT_STOR_SITES_ACH] [int] NULL,
	[UPG_SALT_STOR_SITES_ID] [int] NULL,
	[USE_APP_RATE_CHART_ACH] [int] NULL,
	[USE_APP_RATE_CHART_ID] [int] NULL,
	[USE_MDSS_ACH] [int] NULL,
	[USE_MDSS_ID] [int] NULL,
	[USE_PRE_TRT_SALT_ACH] [int] NULL,
	[USE_PRE_TRT_SALT_ID] [int] NULL,
	[USE_TARPS_ABR_ACH] [int] NULL,
	[USE_TARPS_ABR_ID] [int] NULL,
	[APPENDIX_ID] [numeric](9, 0) NOT NULL,
	[CONCURRENCY_CONTROL_NUMBER] [bigint] NULL,
	[APP_CREATE_USERID] [varchar](30) NULL,
	[APP_CREATE_TIMESTAMP] [datetime] NULL,
	[APP_CREATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_CREATE_USER_DIRECTORY] [varchar](12) NULL,
	[APP_LAST_UPDATE_USERID] [varchar](30) NULL,
	[APP_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
	[APP_LAST_UPDATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_LAST_UPDATE_USER_DIRECTORY] [varchar](12) NULL,
	[DB_AUDIT_CREATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_CREATE_TIMESTAMP] [datetime] NULL,
	[DB_AUDIT_LAST_UPDATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
 CONSTRAINT [HMR_SLTAPP_PK] PRIMARY KEY CLUSTERED 
(
	[APPENDIX_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[HMR_SALT_APPENDIX_HIST]    Script Date: 2024-04-16 11:48:31 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[HMR_SALT_APPENDIX_HIST](
	[SALT_APPENDIX_HIST_ID] [numeric](9, 0) NOT NULL,
	[EFFECTIVE_DATE_HIST] [datetime] NOT NULL,
	[END_DATE_HIST] [datetime] NULL,
	[ACC_MET_SRV_ACH] [int] NULL,
	[ACC_MET_SRV_ID] [int] NULL,
	[ACC_RWIS_DATA_ACH] [int] NULL,
	[ACC_RWIS_DATA_ID] [int] NULL,
	[ADPT_ANTI_ICING_ACH] [int] NULL,
	[ADPT_ANTI_ICING_ID] [int] NULL,
	[ADPT_PRE_WET_NET_ACH] [int] NULL,
	[ADPT_PRE_WET_NET_ID] [int] NULL,
	[ADPT_PRE_WET_ABR_ACH] [int] NULL,
	[ADPT_PRE_WET_ABR_ID] [int] NULL,
	[ASS_PLW_EFF_ACH] [int] NULL,
	[ASS_PLW_EFF_ID] [int] NULL,
	[COL_MELT_WATER_PT_ACH] [int] NULL,
	[COL_MELT_WATER_PT_ID] [int] NULL,
	[CON_ENV_MON_ACH] [int] NULL,
	[CON_ENV_MON_ID] [int] NULL,
	[CONS_COLL_POND_ACH] [int] NULL,
	[CONS_COLL_POND_ID] [int] NULL,
	[CONS_PERM_COV_STRUC_ACH] [int] NULL,
	[CONS_PERM_COV_STRUC_ID] [int] NULL,
	[CTRL_TRK_LOAD_ACH] [int] NULL,
	[CTRL_TRK_LOAD_ID] [int] NULL,
	[DES_TRK_LOAD_AREA_ACH] [int] NULL,
	[DES_TRK_LOAD_AREA_ID] [int] NULL,
	[DES_RUNOFF_CTRL_ACH] [int] NULL,
	[DES_RUNOFF_CTRL_ID] [int] NULL,
	[DEV_PROG_PHASE_OUT_ACH] [int] NULL,
	[DEV_PROG_PHASE_OUT_ID] [int] NULL,
	[EXP_INDOOR_ABR_ACH] [int] NULL,
	[EXP_INDOOR_ABR_ID] [int] NULL,
	[ID_SALT_VUL_AREAS_ACH] [int] NULL,
	[ID_SALT_VUL_AREAS_ID] [int] NULL,
	[IMP_PAD_ABR_ACH] [int] NULL,
	[IMP_PAD_ABR_ID] [int] NULL,
	[IMPL_PROT_MIT_MEAS_ACH] [int] NULL,
	[IMPL_PROT_MIT_MEAS_ID] [int] NULL,
	[INC_PRE_WET_EQ_ACH] [int] NULL,
	[INC_PRE_WET_EQ_ID] [int] NULL,
	[INST_ADD_RWIS_ACH] [int] NULL,
	[INST_ADD_RWIS_ID] [int] NULL,
	[INST_EQ_WASH_BAY_ACH] [int] NULL,
	[INST_EQ_WASH_BAY_ID] [int] NULL,
	[INST_GPS_COMP_SYS_ACH] [int] NULL,
	[INST_GPS_COMP_SYS_ID] [int] NULL,
	[INST_GRND_SPD_CTRL_ACH] [int] NULL,
	[INST_GRND_SPD_CTRL_ID] [int] NULL,
	[INST_IR_THERM_ACH] [int] NULL,
	[INST_IR_THERM_ID] [int] NULL,
	[INST_LIQ_ANTI_IC_ACH] [int] NULL,
	[INST_LIQ_ANTI_IC_ID] [int] NULL,
	[INST_MOBILE_RWIS_ACH] [int] NULL,
	[INST_MOBILE_RWIS_ID] [int] NULL,
	[INST_NEW_SITE_LP_ACH] [int] NULL,
	[INST_NEW_SITE_LP_ID] [int] NULL,
	[MAN_SALT_CONT_WAT_ACH] [int] NULL,
	[MAN_SALT_CONT_WAT_ID] [int] NULL,
	[NEW_SALT_DOME_IND_ACH] [int] NULL,
	[NEW_SALT_DOME_IND_ID] [int] NULL,
	[NEW_SALT_DOME_PAD_ACH] [int] NULL,
	[NEW_SALT_DOME_PAD_ID] [int] NULL,
	[OTHER_ACH] [int] NULL,
	[OTHER_ID] [int] NULL,
	[OTHER_SNOW_DISP_ACH] [int] NULL,
	[OTHER_SNOW_DISP_ID] [int] NULL,
	[OTHER_SPEC_ACH] [int] NULL,
	[OTHER_SPEC_ID] [int] NULL,
	[OTHER_VUL_AREAS_ACH] [int] NULL,
	[OTHER_VUL_AREAS_ID] [int] NULL,
	[PRIO_AREAS_ADD_PROT_ACH] [int] NULL,
	[PRIO_AREAS_ADD_PROT_ID] [int] NULL,
	[RECONF_OP_FAC_ACH] [int] NULL,
	[RECONF_OP_FAC_ID] [int] NULL,
	[RECONF_STOR_CAP_ACH] [int] NULL,
	[RECONF_STOR_CAP_ID] [int] NULL,
	[REM_CONT_SNOW_ACH] [int] NULL,
	[REM_CONT_SNOW_ID] [int] NULL,
	[REV_SALT_USE_ACH] [int] NULL,
	[REV_SALT_USE_ID] [int] NULL,
	[SALT_REPORT_ID] [numeric](18, 0) NULL,
	[SPILL_PREV_PLAN_ACH] [int] NULL,
	[SPILL_PREV_PLAN_ID] [int] NULL,
	[TEST_NEW_PROD_ACH] [int] NULL,
	[TEST_NEW_PROD_ID] [int] NULL,
	[UPG_SITE_LP_ACH] [int] NULL,
	[UPG_SITE_LP_ID] [int] NULL,
	[UPG_SALT_STOR_SITES_ACH] [int] NULL,
	[UPG_SALT_STOR_SITES_ID] [int] NULL,
	[USE_APP_RATE_CHART_ACH] [int] NULL,
	[USE_APP_RATE_CHART_ID] [int] NULL,
	[USE_MDSS_ACH] [int] NULL,
	[USE_MDSS_ID] [int] NULL,
	[USE_PRE_TRT_SALT_ACH] [int] NULL,
	[USE_PRE_TRT_SALT_ID] [int] NULL,
	[USE_TARPS_ABR_ACH] [int] NULL,
	[USE_TARPS_ABR_ID] [int] NULL,
	[APPENDIX_ID] [numeric](9, 0) NULL,
	[CONCURRENCY_CONTROL_NUMBER] [bigint] NULL,
	[APP_CREATE_USERID] [varchar](30) NULL,
	[APP_CREATE_TIMESTAMP] [datetime] NULL,
	[APP_CREATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_CREATE_USER_DIRECTORY] [varchar](12) NULL,
	[APP_LAST_UPDATE_USERID] [varchar](30) NULL,
	[APP_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
	[APP_LAST_UPDATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_LAST_UPDATE_USER_DIRECTORY] [varchar](12) NULL,
	[DB_AUDIT_CREATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_CREATE_TIMESTAMP] [datetime] NULL,
	[DB_AUDIT_LAST_UPDATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
 CONSTRAINT [HMR_SLTAPP_PK_H_PK] PRIMARY KEY CLUSTERED 
(
	[SALT_APPENDIX_HIST_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY],
 CONSTRAINT [HMR_SLTAPP_PK_H_UK] UNIQUE NONCLUSTERED 
(
	[SALT_APPENDIX_HIST_ID] ASC,
	[END_DATE_HIST] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[HMR_SALT_REPORT]    Script Date: 2024-04-16 11:48:31 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[HMR_SALT_REPORT](
	[SALT_REPORT_ID] [numeric](9, 0) NOT NULL,
	[SERVICE_AREA] [numeric](9, 0) NOT NULL,
	[CNTCT_NAME] [varchar](200) NOT NULL,
	[EMAIL] [varchar](100) NOT NULL,
	[TEL] [varchar](20) NOT NULL,
	[PLAN_DEV] [varchar](20) NOT NULL,
	[PLAN_REV] [varchar](20) NOT NULL,
	[PLAN_UPD] [varchar](20) NOT NULL,
	[MGR_TRAIN] [varchar](20) NOT NULL,
	[SUPV_TRAIN] [varchar](20) NOT NULL,
	[OPR_TRAIN] [varchar](20) NOT NULL,
	[MECH_TRAIN] [varchar](20) NOT NULL,
	[PATR_TRAIN] [varchar](20) NOT NULL,
	[MAT_STOR_ID] [int] NULL,
	[MAT_STOR_ACH] [int] NULL,
	[SALT_APP_ID] [int] NULL,
	[SALT_APP_ACH] [int] NULL,
	[RD_TOT_LEN] [int] NULL,
	[SALT_TOT_DAYS] [int] NULL,
	[DEICER_NACL] [decimal](10, 2) NULL,
	[DEICER_MGCL2] [decimal](10, 2) NULL,
	[DEICER_CACL2] [decimal](10, 2) NULL,
	[DEICER_ACET] [decimal](10, 2) NULL,
	[TRTD_ABR_SDST] [decimal](10, 2) NULL,
	[TRTD_ABR_NACL] [decimal](10, 2) NULL,
	[TRTD_ABR_MGCL2] [decimal](10, 2) NULL,
	[TRTD_ABR_CACL2] [decimal](10, 2) NULL,
	[PRWT_NACL] [decimal](10, 2) NULL,
	[PRWT_MGCL2] [decimal](10, 2) NULL,
	[PRWT_CACL2] [decimal](10, 2) NULL,
	[PRWT_ACET] [decimal](10, 2) NULL,
	[PRWT_NONCL] [decimal](10, 2) NULL,
	[PRTT_NACL] [decimal](10, 2) NULL,
	[PRTT_MGCL2] [decimal](10, 2) NULL,
	[PRTT_CACL2] [decimal](10, 2) NULL,
	[PRTT_ACET] [decimal](10, 2) NULL,
	[PRTT_NONCL] [decimal](10, 2) NULL,
	[ANTIC_NACL] [decimal](10, 2) NULL,
	[ANTIC_MGCL2] [decimal](10, 2) NULL,
	[ANTIC_CACL2] [decimal](10, 2) NULL,
	[ANTIC_ACET] [decimal](10, 2) NULL,
	[ANTIC_NONCL] [decimal](10, 2) NULL,
	[MULTICHL_A_CACL2_PCT] [decimal](10, 2) NULL,
	[MULTICHL_A_LTRS] [decimal](10, 2) NULL,
	[MULTICHL_A_NACL_PCT] [decimal](10, 2) NULL,
	[MULTICHL_A_MGCL2_PCT] [decimal](10, 2) NULL,
	[MULTICHL_B_LTRS] [decimal](10, 2) NULL,
	[MULTICHL_B_MGCL2_PCT] [decimal](10, 2) NULL,
	[MULTICHL_B_NACL_PCT] [decimal](10, 2) NULL,
	[MULTICHL_B_CACL2_PCT] [decimal](10, 2) NULL,
	[SALT_STRG_SITES_TOT] [int] NULL,
	[ALL_MAT_HNDL_PLAN] [bit] NULL,
	[ALL_MAT_HNDL_SITES] [int] NULL,
	[CTRL_DIV_EXT_WAT_PLAN] [bit] NULL,
	[CTRL_DIV_EXT_WAT_SITES] [int] NULL,
	[DRAIN_COLL_SYS_PLAN] [bit] NULL,
	[DRAIN_COLL_SYS_SITES] [int] NULL,
	[EQP_PRVNT_OVRLOAD_PLAN] [bit] NULL,
	[EQP_PRVNT_OVRLOAD_SITES] [int] NULL,
	[MUN_SEWER_SYS_PLAN] [bit] NULL,
	[MUN_SEWER_SYS_SITES] [int] NULL,
	[ONGOING_CLNUP_PLAN] [bit] NULL,
	[ONGOING_CLNUP_SITES] [int] NULL,
	[OTH_DISCH_PT_PLAN] [bit] NULL,
	[OTH_DISCH_PT_SITES] [int] NULL,
	[REMOV_CONT_PLAN] [bit] NULL,
	[REMOV_CONT_SITES] [int] NULL,
	[RISK_MGMT_PLAN_PLAN] [bit] NULL,
	[RISK_MGMT_PLAN_SITES] [int] NULL,
	[WASTE_WATER_SYS_PLAN] [bit] NULL,
	[WASTE_WATER_SYS_SITES] [int] NULL,
	[WATERCRS_PLAN] [bit] NULL,
	[WATERCRS_SITES] [int] NULL,
	[NUM_VEHICLES] [int] NULL,
	[VEH_SALT_APP] [int] NULL,
	[VEH_CONV] [int] NULL,
	[VEH_PREWET_EQ] [int] NULL,
	[VEH_DLA] [int] NULL,
	[REG_CALIB] [bit] NULL,
	[REG_CALIB_TOT] [int] NULL,
	[IR_THRM_REL] [bit] NULL,
	[IR_THRM_TOT] [int] NULL,
	[MET_SVC_REL] [bit] NULL,
	[FIX_RWIS_REL] [bit] NULL,
	[FIX_RWIS_TOT] [int] NULL,
	[MOB_RWIS_REL] [bit] NULL,
	[MOB_RWIS_TOT] [int] NULL,
	[AVL_REL] [bit] NULL,
	[AVL_TOT] [int] NULL,
	[SALT_APP_RATE_REL] [bit] NULL,
	[SALT_APP_RATE_TOT] [int] NULL,
	[APP_RATE_CHRT_REL] [bit] NULL,
	[APP_RATE_CHRT_TOT] [int] NULL,
	[TEST_MDSS_REL] [bit] NULL,
	[TEST_SMDS_TOT] [int] NULL,
	[SNOW_DISP_SITE_USED] [bit] NULL,
	[SNOW_DISP_SITE_TOT] [int] NULL,
	[SNOW_MELT_USED] [bit] NULL,
	[MELTWATER_DISP_METH_USED] [bit] NULL,
	[COMP_INV] [varchar](10) NULL,
	[SET_VULN_AREAS] [varchar](10) NULL,
	[ACT_PLAN_PREP] [varchar](10) NULL,
	[PROT_MEAS_IMPL] [varchar](10) NULL,
	[ENV_MON_COND] [varchar](10) NULL,
	[AQUA_LIFE_AREA_ID] [int] NULL,
	[AQUA_LIFE_CHLOR_ID] [int] NULL,
	[AQUA_LIFE_PROT_ID] [int] NULL,
	[DELIM_AREA_ID] [int] NULL,
	[DELIM_AREA_CHLOR_ID] [int] NULL,
	[DELIM_AREA_PROT_ID] [int] NULL,
	[DRINK_WATER_AREA_ID] [int] NULL,
	[DRINK_WATER_CHLOR_ID] [int] NULL,
	[DRINK_WATER_PROT_ID] [int] NULL,
	[VAL_LANDS_AREA_ID] [int] NULL,
	[VAL_LANDS_CHLOR_ID] [int] NULL,
	[VAL_LANDS_PROT_ID] [int] NULL,
	[WETLANDS_AREA_ID] [int] NULL,
	[WETLANDS_CHLOR_ID] [int] NULL,
	[WETLANDS_PROT_ID] [int] NULL,
	[CONCURRENCY_CONTROL_NUMBER] [bigint] NULL,
	[APP_CREATE_USERID] [varchar](30) NULL,
	[APP_CREATE_TIMESTAMP] [datetime] NULL,
	[APP_CREATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_CREATE_USER_DIRECTORY] [varchar](12) NULL,
	[APP_LAST_UPDATE_USERID] [varchar](30) NULL,
	[APP_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
	[APP_LAST_UPDATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_LAST_UPDATE_USER_DIRECTORY] [varchar](12) NULL,
	[DB_AUDIT_CREATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_CREATE_TIMESTAMP] [datetime] NULL,
	[DB_AUDIT_LAST_UPDATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
 CONSTRAINT [HMR_SLTRPT_PK] PRIMARY KEY CLUSTERED 
(
	[SALT_REPORT_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[HMR_SALT_REPORT_HIST]    Script Date: 2024-04-16 11:48:31 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[HMR_SALT_REPORT_HIST](
	[SALT_REPORT_HIST_ID] [bigint] NOT NULL,
	[EFFECTIVE_DATE_HIST] [datetime] NOT NULL,
	[END_DATE_HIST] [datetime] NULL,
	[SALT_REPORT_ID] [numeric](18, 0) NOT NULL,
	[SERVICE_AREA] [numeric](18, 0) NOT NULL,
	[CNTCT_NAME] [varchar](200) NOT NULL,
	[EMAIL] [varchar](100) NOT NULL,
	[TEL] [varchar](20) NOT NULL,
	[PLAN_DEV] [varchar](20) NOT NULL,
	[PLAN_REV] [varchar](20) NOT NULL,
	[PLAN_UPD] [varchar](20) NOT NULL,
	[MGR_TRAIN] [varchar](20) NOT NULL,
	[SUPV_TRAIN] [varchar](20) NOT NULL,
	[OPR_TRAIN] [varchar](20) NOT NULL,
	[MECH_TRAIN] [varchar](20) NOT NULL,
	[PATR_TRAIN] [varchar](20) NOT NULL,
	[MAT_STOR_ID] [int] NULL,
	[MAT_STOR_ACH] [int] NULL,
	[SALT_APP_ID] [int] NULL,
	[SALT_APP_ACH] [int] NULL,
	[RD_TOT_LEN] [int] NULL,
	[SALT_TOT_DAYS] [int] NULL,
	[DEICER_NACL] [decimal](18, 0) NULL,
	[DEICER_MGCL2] [decimal](18, 0) NULL,
	[DEICER_CACL2] [decimal](18, 0) NULL,
	[DEICER_ACET] [decimal](18, 0) NULL,
	[TRTD_ABR_SDST] [decimal](18, 0) NULL,
	[TRTD_ABR_NACL] [decimal](18, 0) NULL,
	[TRTD_ABR_MGCL2] [decimal](18, 0) NULL,
	[TRTD_ABR_CACL2] [decimal](18, 0) NULL,
	[PRWT_NACL] [decimal](18, 0) NULL,
	[PRWT_MGCL2] [decimal](18, 0) NULL,
	[PRWT_CACL2] [decimal](18, 0) NULL,
	[PRWT_ACET] [decimal](18, 0) NULL,
	[PRWT_NONCL] [decimal](18, 0) NULL,
	[PRTT_NACL] [decimal](18, 0) NULL,
	[PRTT_MGCL2] [decimal](18, 0) NULL,
	[PRTT_CACL2] [decimal](18, 0) NULL,
	[PRTT_ACET] [decimal](18, 0) NULL,
	[PRTT_NONCL] [decimal](18, 0) NULL,
	[ANTIC_NACL] [decimal](18, 0) NULL,
	[ANTIC_MGCL2] [decimal](18, 0) NULL,
	[ANTIC_CACL2] [decimal](18, 0) NULL,
	[ANTIC_ACET] [decimal](18, 0) NULL,
	[ANTIC_NONCL] [decimal](18, 0) NULL,
	[MULTICHL_A_CACL2_PCT] [decimal](18, 0) NULL,
	[MULTICHL_A_LTRS] [decimal](18, 0) NULL,
	[MULTICHL_A_NACL_PCT] [decimal](18, 0) NULL,
	[MULTICHL_A_MGCL2_PCT] [decimal](18, 0) NULL,
	[MULTICHL_B_LTRS] [decimal](18, 0) NULL,
	[MULTICHL_B_MGCL2_PCT] [decimal](18, 0) NULL,
	[MULTICHL_B_NACL_PCT] [decimal](18, 0) NULL,
	[MULTICHL_B_CACL2_PCT] [decimal](18, 0) NULL,
	[SALT_STRG_SITES_TOT] [int] NULL,
	[ALL_MAT_HNDL_PLAN] [bit] NULL,
	[ALL_MAT_HNDL_SITES] [int] NULL,
	[CTRL_DIV_EXT_WAT_PLAN] [bit] NULL,
	[CTRL_DIV_EXT_WAT_SITES] [int] NULL,
	[DRAIN_COLL_SYS_PLAN] [bit] NULL,
	[DRAIN_COLL_SYS_SITES] [int] NULL,
	[EQP_PRVNT_OVRLOAD_PLAN] [bit] NULL,
	[EQP_PRVNT_OVRLOAD_SITES] [int] NULL,
	[MUN_SEWER_SYS_PLAN] [bit] NULL,
	[MUN_SEWER_SYS_SITES] [int] NULL,
	[ONGOING_CLNUP_PLAN] [bit] NULL,
	[ONGOING_CLNUP_SITES] [int] NULL,
	[OTH_DISCH_PT_PLAN] [bit] NULL,
	[OTH_DISCH_PT_SITES] [int] NULL,
	[REMOV_CONT_PLAN] [bit] NULL,
	[REMOV_CONT_SITES] [int] NULL,
	[RISK_MGMT_PLAN_PLAN] [bit] NULL,
	[RISK_MGMT_PLAN_SITES] [int] NULL,
	[WASTE_WATER_SYS_PLAN] [bit] NULL,
	[WASTE_WATER_SYS_SITES] [int] NULL,
	[WATERCRS_PLAN] [bit] NULL,
	[WATERCRS_SITES] [int] NULL,
	[NUM_VEHICLES] [int] NULL,
	[VEH_SALT_APP] [int] NULL,
	[VEH_CONV] [int] NULL,
	[VEH_PREWET_EQ] [int] NULL,
	[VEH_DLA] [int] NULL,
	[REG_CALIB] [bit] NULL,
	[REG_CALIB_TOT] [int] NULL,
	[IR_THRM_REL] [bit] NULL,
	[IR_THRM_TOT] [int] NULL,
	[MET_SVC_REL] [bit] NULL,
	[FIX_RWIS_REL] [bit] NULL,
	[FIX_RWIS_TOT] [int] NULL,
	[MOB_RWIS_REL] [bit] NULL,
	[MOB_RWIS_TOT] [int] NULL,
	[AVL_REL] [bit] NULL,
	[AVL_TOT] [int] NULL,
	[SALT_APP_RATE_REL] [bit] NULL,
	[SALT_APP_RATE_TOT] [int] NULL,
	[APP_RATE_CHRT_REL] [bit] NULL,
	[APP_RATE_CHRT_TOT] [int] NULL,
	[TEST_MDSS_REL] [bit] NULL,
	[TEST_SMDS_TOT] [int] NULL,
	[SNOW_DISP_SITE_USED] [bit] NULL,
	[SNOW_DISP_SITE_TOT] [int] NULL,
	[SNOW_MELT_USED] [bit] NULL,
	[MELTWATER_DISP_METH_USED] [bit] NULL,
	[COMP_INV] [varchar](10) NULL,
	[SET_VULN_AREAS] [varchar](10) NULL,
	[ACT_PLAN_PREP] [varchar](10) NULL,
	[PROT_MEAS_IMPL] [varchar](10) NULL,
	[ENV_MON_COND] [varchar](10) NULL,
	[AQUA_LIFE_AREA_ID] [int] NULL,
	[AQUA_LIFE_CHLOR_ID] [int] NULL,
	[AQUA_LIFE_PROT_ID] [int] NULL,
	[DELIM_AREA_ID] [int] NULL,
	[DELIM_AREA_CHLOR_ID] [int] NULL,
	[DELIM_AREA_PROT_ID] [int] NULL,
	[DRINK_WATER_AREA_ID] [int] NULL,
	[DRINK_WATER_CHLOR_ID] [int] NULL,
	[DRINK_WATER_PROT_ID] [int] NULL,
	[VAL_LANDS_AREA_ID] [int] NULL,
	[VAL_LANDS_CHLOR_ID] [int] NULL,
	[VAL_LANDS_PROT_ID] [int] NULL,
	[WETLANDS_AREA_ID] [int] NULL,
	[WETLANDS_CHLOR_ID] [int] NULL,
	[WETLANDS_PROT_ID] [int] NULL,
	[CONCURRENCY_CONTROL_NUMBER] [bigint] NULL,
	[APP_CREATE_USERID] [varchar](30) NULL,
	[APP_CREATE_TIMESTAMP] [datetime] NULL,
	[APP_CREATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_CREATE_USER_DIRECTORY] [varchar](12) NULL,
	[APP_LAST_UPDATE_USERID] [varchar](30) NULL,
	[APP_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
	[APP_LAST_UPDATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_LAST_UPDATE_USER_DIRECTORY] [varchar](12) NULL,
	[DB_AUDIT_CREATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_CREATE_TIMESTAMP] [datetime] NULL,
	[DB_AUDIT_LAST_UPDATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
 CONSTRAINT [HMR_SLTRPT_PK_H_PK] PRIMARY KEY CLUSTERED 
(
	[SALT_REPORT_HIST_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY],
 CONSTRAINT [HMR_SLTRPT_PK_H_UK] UNIQUE NONCLUSTERED 
(
	[SALT_REPORT_HIST_ID] ASC,
	[END_DATE_HIST] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[HMR_SALT_STOCKPILE]    Script Date: 2024-04-16 11:48:31 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[HMR_SALT_STOCKPILE](
	[STOCKPILE_ID] [numeric](9, 0) NOT NULL,
	[MOTI_OWNED] [bit] NULL,
	[SALT_REPORT_ID] [numeric](9, 0) NOT NULL,
	[ROAD_SALT_ON_IMPERMEABLE_SURFACE] [int] NULL,
	[ROAD_SALT_STOCKPILES_TOTAL] [int] NULL,
	[ROAD_SALT_UNDER_PERMANENT_ROOF] [int] NULL,
	[ROAD_SALT_UNDER_TARP] [int] NULL,
	[SITE_NAME] [varchar](120) NULL,
	[TREATED_ABRASIVES_ON_IMPERMEABLE_SURFACE] [int] NULL,
	[TREATED_ABRASIVES_STOCKPILES_TOTAL] [int] NULL,
	[TREATED_ABRASIVES_UNDER_PERMANENT_ROOF] [int] NULL,
	[TREATED_ABRASIVES_UNDER_TARP] [int] NULL,
	[CONCURRENCY_CONTROL_NUMBER] [bigint] NULL,
	[APP_CREATE_USERID] [varchar](30) NULL,
	[APP_CREATE_TIMESTAMP] [datetime] NULL,
	[APP_CREATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_CREATE_USER_DIRECTORY] [varchar](12) NULL,
	[APP_LAST_UPDATE_USERID] [varchar](30) NULL,
	[APP_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
	[APP_LAST_UPDATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_LAST_UPDATE_USER_DIRECTORY] [varchar](12) NULL,
	[DB_AUDIT_CREATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_CREATE_TIMESTAMP] [datetime] NULL,
	[DB_AUDIT_LAST_UPDATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
 CONSTRAINT [HMR_SLTSTP_PK] PRIMARY KEY CLUSTERED 
(
	[STOCKPILE_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[HMR_SALT_STOCKPILE_HIST]    Script Date: 2024-04-16 11:48:31 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[HMR_SALT_STOCKPILE_HIST](
	[SALT_STOCKPILE_HIST_ID] [bigint] NOT NULL,
	[EFFECTIVE_DATE_HIST] [datetime] NOT NULL,
	[END_DATE_HIST] [datetime] NULL,
	[STOCKPILE_ID] [numeric](18, 0) NOT NULL,
	[MOTI_OWNED] [bit] NULL,
	[SALT_REPORT_ID] [numeric](18, 0) NOT NULL,
	[ROAD_SALT_ON_IMPERMEABLE_SURFACE] [int] NULL,
	[ROAD_SALT_STOCKPILES_TOTAL] [int] NULL,
	[ROAD_SALT_UNDER_PERMANENT_ROOF] [int] NULL,
	[ROAD_SALT_UNDER_TARP] [int] NULL,
	[SITE_NAME] [varchar](120) NULL,
	[TREATED_ABRASIVES_ON_IMPERMEABLE_SURFACE] [int] NULL,
	[TREATED_ABRASIVES_STOCKPILES_TOTAL] [int] NULL,
	[TREATED_ABRASIVES_UNDER_PERMANENT_ROOF] [int] NULL,
	[TREATED_ABRASIVES_UNDER_TARP] [int] NULL,
	[CONCURRENCY_CONTROL_NUMBER] [bigint] NULL,
	[APP_CREATE_USERID] [varchar](30) NULL,
	[APP_CREATE_TIMESTAMP] [datetime] NULL,
	[APP_CREATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_CREATE_USER_DIRECTORY] [varchar](12) NULL,
	[APP_LAST_UPDATE_USERID] [varchar](30) NULL,
	[APP_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
	[APP_LAST_UPDATE_USER_GUID] [uniqueidentifier] NULL,
	[APP_LAST_UPDATE_USER_DIRECTORY] [varchar](12) NULL,
	[DB_AUDIT_CREATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_CREATE_TIMESTAMP] [datetime] NULL,
	[DB_AUDIT_LAST_UPDATE_USERID] [varchar](30) NULL,
	[DB_AUDIT_LAST_UPDATE_TIMESTAMP] [datetime] NULL,
 CONSTRAINT [HMR_SLTSTP_PK_H_PK] PRIMARY KEY CLUSTERED 
(
	[SALT_STOCKPILE_HIST_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY],
 CONSTRAINT [HMR_SLTSTP_PK_H_UK] UNIQUE NONCLUSTERED 
(
	[SALT_STOCKPILE_HIST_ID] ASC,
	[END_DATE_HIST] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] ADD  CONSTRAINT [DF_HMR_SALT_APPENDIX_APPENDIX_ID]  DEFAULT (NEXT VALUE FOR [HMR_SLT_APPENDIX_ID_SEQ]) FOR [APPENDIX_ID]
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] ADD  CONSTRAINT [DF__HMR_SALT___CONCU__4E5E8EA2]  DEFAULT ((1)) FOR [CONCURRENCY_CONTROL_NUMBER]
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] ADD  CONSTRAINT [DF__HMR_SALT___DB_AU__4F52B2DB]  DEFAULT (user_name()) FOR [DB_AUDIT_CREATE_USERID]
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] ADD  CONSTRAINT [DF__HMR_SALT___DB_AU__5046D714]  DEFAULT (getutcdate()) FOR [DB_AUDIT_CREATE_TIMESTAMP]
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] ADD  CONSTRAINT [DF__HMR_SALT___DB_AU__513AFB4D]  DEFAULT (user_name()) FOR [DB_AUDIT_LAST_UPDATE_USERID]
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] ADD  CONSTRAINT [DF__HMR_SALT___DB_AU__522F1F86]  DEFAULT (getutcdate()) FOR [DB_AUDIT_LAST_UPDATE_TIMESTAMP]
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX_HIST] ADD  CONSTRAINT [DF__HMR_SALT___SALT___4E00FDF4]  DEFAULT (NEXT VALUE FOR [HMR_SALT_APPENDIX_H_ID_SEQ]) FOR [SALT_APPENDIX_HIST_ID]
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX_HIST] ADD  CONSTRAINT [DF__HMR_SALT___EFFEC__29C39D7E]  DEFAULT (getutcdate()) FOR [EFFECTIVE_DATE_HIST]
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] ADD  CONSTRAINT [DF_HMR_SALT_REPORT_SALT_REPORT_ID]  DEFAULT (NEXT VALUE FOR [HMR_SLT_RPT_ID_SEQ]) FOR [SALT_REPORT_ID]
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] ADD  CONSTRAINT [DF_HMR_SALT_REPORT_CONCURRENCY_CONTROL_NUMBER]  DEFAULT ((1)) FOR [CONCURRENCY_CONTROL_NUMBER]
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] ADD  CONSTRAINT [DF_HMR_SALT_REPORT_DB_AUDIT_CREATE_USERID]  DEFAULT (user_name()) FOR [DB_AUDIT_CREATE_USERID]
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] ADD  CONSTRAINT [DF_HMR_SALT_REPORT_DB_AUDIT_CREATE_TIMESTAMP]  DEFAULT (getutcdate()) FOR [DB_AUDIT_CREATE_TIMESTAMP]
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] ADD  CONSTRAINT [DF_HMR_SALT_REPORT_DB_AUDIT_LAST_UPDATE_USERID]  DEFAULT (user_name()) FOR [DB_AUDIT_LAST_UPDATE_USERID]
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] ADD  CONSTRAINT [DF_HMR_SALT_REPORT_DB_AUDIT_LAST_UPDATE_TIMESTAMP]  DEFAULT (getutcdate()) FOR [DB_AUDIT_LAST_UPDATE_TIMESTAMP]
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT_HIST] ADD  DEFAULT (NEXT VALUE FOR [HMR_SALT_REPORT_H_ID_SEQ]) FOR [SALT_REPORT_HIST_ID]
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT_HIST] ADD  DEFAULT (getutcdate()) FOR [EFFECTIVE_DATE_HIST]
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] ADD  CONSTRAINT [DF_HMR_SALT_STOCKPILE_STOCKPILE_ID]  DEFAULT (NEXT VALUE FOR [HMR_SLT_STOCKPILE_ID_SEQ]) FOR [STOCKPILE_ID]
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] ADD  CONSTRAINT [DF__HMR_SALT___CONCU__532343BF]  DEFAULT ((1)) FOR [CONCURRENCY_CONTROL_NUMBER]
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] ADD  CONSTRAINT [DF__HMR_SALT___DB_AU__541767F8]  DEFAULT (user_name()) FOR [DB_AUDIT_CREATE_USERID]
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] ADD  CONSTRAINT [DF__HMR_SALT___DB_AU__550B8C31]  DEFAULT (getutcdate()) FOR [DB_AUDIT_CREATE_TIMESTAMP]
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] ADD  CONSTRAINT [DF__HMR_SALT___DB_AU__55FFB06A]  DEFAULT (user_name()) FOR [DB_AUDIT_LAST_UPDATE_USERID]
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] ADD  CONSTRAINT [DF__HMR_SALT___DB_AU__56F3D4A3]  DEFAULT (getutcdate()) FOR [DB_AUDIT_LAST_UPDATE_TIMESTAMP]
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE_HIST] ADD  DEFAULT (NEXT VALUE FOR [HMR_SALT_STOCKPILE_H_ID_SEQ]) FOR [SALT_STOCKPILE_HIST_ID]
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE_HIST] ADD  DEFAULT (getutcdate()) FOR [EFFECTIVE_DATE_HIST]
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX]  WITH CHECK ADD  CONSTRAINT [HMR_SALT_APPENDIX__SALT_REPORT_FK] FOREIGN KEY([SALT_REPORT_ID])
REFERENCES [dbo].[HMR_SALT_REPORT] ([SALT_REPORT_ID])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] CHECK CONSTRAINT [HMR_SALT_APPENDIX__SALT_REPORT_FK]
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT]  WITH CHECK ADD  CONSTRAINT [HMR_SALT_REPORT__SERVICE_AREA_FK] FOREIGN KEY([SERVICE_AREA])
REFERENCES [dbo].[HMR_SERVICE_AREA] ([SERVICE_AREA_NUMBER])
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] CHECK CONSTRAINT [HMR_SALT_REPORT__SERVICE_AREA_FK]
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE]  WITH CHECK ADD  CONSTRAINT [HMR_SALT_STOCKPILE__SALT_REPORT_FK] FOREIGN KEY([SALT_REPORT_ID])
REFERENCES [dbo].[HMR_SALT_REPORT] ([SALT_REPORT_ID])
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] CHECK CONSTRAINT [HMR_SALT_STOCKPILE__SALT_REPORT_FK]
GO
/****** Object:  StoredProcedure [dbo].[hmr_error_handling]    Script Date: 2024-04-16 11:48:31 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/* ---------------------------------------------------------------------- */
/* Add procedures                                                         */
/* ---------------------------------------------------------------------- */

/* ---------------------------------------------------------------------- */
/* Add procedures                                                         */
/* ---------------------------------------------------------------------- */

CREATE PROCEDURE [dbo].[hmr_error_handling] AS

  begin
    DECLARE @errmsg   nvarchar(2048),
      @severity tinyint,
      @state    tinyint,
      @errno    int,
      @proc     sysname,
      @lineno   int

    SELECT @errmsg = error_message(), @severity = error_severity(),
      @state  = error_state(), @errno = error_number(),
      @proc   = error_procedure(), @lineno = error_line()

    IF @errmsg NOT LIKE '***%'
      BEGIN
        SELECT @errmsg = '*** ' + coalesce(quotename(@proc), '<dynamic SQL>') +
          ', Line ' + ltrim(str(@lineno)) + '. Errno ' +
          ltrim(str(@errno)) + ': ' + @errmsg
      END

    RAISERROR('%s', @severity, @state, @errmsg)
  end
GO
/****** Object:  Trigger [dbo].[HMR_SLTAPP_PK_A_S_IUD_TR]    Script Date: 2024-04-16 11:48:31 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TRIGGER [dbo].[HMR_SLTAPP_PK_A_S_IUD_TR] ON [dbo].[HMR_SALT_APPENDIX] FOR INSERT, UPDATE, DELETE AS
SET NOCOUNT ON
BEGIN TRY
DECLARE @curr_date datetime;
SET @curr_date = getutcdate();
  IF NOT EXISTS(SELECT * FROM inserted) AND NOT EXISTS(SELECT * FROM deleted) 
    RETURN;

  -- historical
  IF EXISTS(SELECT * FROM deleted)
    update HMR_SALT_APPENDIX_HIST set END_DATE_HIST = @curr_date where APPENDIX_ID in (select APPENDIX_ID from deleted) and END_DATE_HIST is null;
  
  IF EXISTS(SELECT * FROM inserted)
    insert into HMR_SALT_APPENDIX_HIST ([ACC_MET_SRV_ACH], [ACC_MET_SRV_ID], [ACC_RWIS_DATA_ACH], [ACC_RWIS_DATA_ID], [ADPT_ANTI_ICING_ACH], [ADPT_ANTI_ICING_ID], [ADPT_PRE_WET_NET_ACH], [ADPT_PRE_WET_NET_ID], [ADPT_PRE_WET_ABR_ACH], [ADPT_PRE_WET_ABR_ID], [ASS_PLW_EFF_ACH], [ASS_PLW_EFF_ID], [COL_MELT_WATER_PT_ACH], [COL_MELT_WATER_PT_ID], [CON_ENV_MON_ACH], [CON_ENV_MON_ID], [CONS_COLL_POND_ACH], [CONS_COLL_POND_ID], [CONS_PERM_COV_STRUC_ACH], [CONS_PERM_COV_STRUC_ID], [CTRL_TRK_LOAD_ACH], [CTRL_TRK_LOAD_ID], [DES_TRK_LOAD_AREA_ACH], [DES_TRK_LOAD_AREA_ID], [DES_RUNOFF_CTRL_ACH], [DES_RUNOFF_CTRL_ID], [DEV_PROG_PHASE_OUT_ACH], [DEV_PROG_PHASE_OUT_ID], [EXP_INDOOR_ABR_ACH], [EXP_INDOOR_ABR_ID], [ID_SALT_VUL_AREAS_ACH], [ID_SALT_VUL_AREAS_ID], [IMP_PAD_ABR_ACH], [IMP_PAD_ABR_ID], [IMPL_PROT_MIT_MEAS_ACH], [IMPL_PROT_MIT_MEAS_ID], [INC_PRE_WET_EQ_ACH], [INC_PRE_WET_EQ_ID], [INST_ADD_RWIS_ACH], [INST_ADD_RWIS_ID], [INST_EQ_WASH_BAY_ACH], [INST_EQ_WASH_BAY_ID], [INST_GPS_COMP_SYS_ACH], [INST_GPS_COMP_SYS_ID], [INST_GRND_SPD_CTRL_ACH], [INST_GRND_SPD_CTRL_ID], [INST_IR_THERM_ACH], [INST_IR_THERM_ID], [INST_LIQ_ANTI_IC_ACH], [INST_LIQ_ANTI_IC_ID], [INST_MOBILE_RWIS_ACH], [INST_MOBILE_RWIS_ID], [INST_NEW_SITE_LP_ACH], [INST_NEW_SITE_LP_ID], [MAN_SALT_CONT_WAT_ACH], [MAN_SALT_CONT_WAT_ID], [NEW_SALT_DOME_IND_ACH], [NEW_SALT_DOME_IND_ID], [NEW_SALT_DOME_PAD_ACH], [NEW_SALT_DOME_PAD_ID], [OTHER_ACH], [OTHER_ID], [OTHER_SNOW_DISP_ACH], [OTHER_SNOW_DISP_ID], [OTHER_SPEC_ACH], [OTHER_SPEC_ID], [OTHER_VUL_AREAS_ACH], [OTHER_VUL_AREAS_ID], [PRIO_AREAS_ADD_PROT_ACH], [PRIO_AREAS_ADD_PROT_ID], [RECONF_OP_FAC_ACH], [RECONF_OP_FAC_ID], [RECONF_STOR_CAP_ACH], [RECONF_STOR_CAP_ID], [REM_CONT_SNOW_ACH], [REM_CONT_SNOW_ID], [REV_SALT_USE_ACH], [REV_SALT_USE_ID], [SALT_REPORT_ID], [SPILL_PREV_PLAN_ACH], [SPILL_PREV_PLAN_ID], [TEST_NEW_PROD_ACH], [TEST_NEW_PROD_ID], [UPG_SITE_LP_ACH], [UPG_SITE_LP_ID], [UPG_SALT_STOR_SITES_ACH], [UPG_SALT_STOR_SITES_ID], [USE_APP_RATE_CHART_ACH], [USE_APP_RATE_CHART_ID], [USE_MDSS_ACH], [USE_MDSS_ID], [USE_PRE_TRT_SALT_ACH], [USE_PRE_TRT_SALT_ID], [USE_TARPS_ABR_ACH], [USE_TARPS_ABR_ID], [APPENDIX_ID], [CONCURRENCY_CONTROL_NUMBER], [APP_CREATE_USERID], [APP_CREATE_TIMESTAMP], [APP_CREATE_USER_GUID], [APP_CREATE_USER_DIRECTORY], [APP_LAST_UPDATE_USERID], [APP_LAST_UPDATE_TIMESTAMP], [APP_LAST_UPDATE_USER_GUID], [APP_LAST_UPDATE_USER_DIRECTORY], [DB_AUDIT_CREATE_USERID], [DB_AUDIT_CREATE_TIMESTAMP], [DB_AUDIT_LAST_UPDATE_USERID], [DB_AUDIT_LAST_UPDATE_TIMESTAMP], SALT_APPENDIX_HIST_ID, END_DATE_HIST, EFFECTIVE_DATE_HIST)
      select [ACC_MET_SRV_ACH], [ACC_MET_SRV_ID], [ACC_RWIS_DATA_ACH], [ACC_RWIS_DATA_ID], [ADPT_ANTI_ICING_ACH], [ADPT_ANTI_ICING_ID], [ADPT_PRE_WET_NET_ACH], [ADPT_PRE_WET_NET_ID], [ADPT_PRE_WET_ABR_ACH], [ADPT_PRE_WET_ABR_ID], [ASS_PLW_EFF_ACH], [ASS_PLW_EFF_ID], [COL_MELT_WATER_PT_ACH], [COL_MELT_WATER_PT_ID], [CON_ENV_MON_ACH], [CON_ENV_MON_ID], [CONS_COLL_POND_ACH], [CONS_COLL_POND_ID], [CONS_PERM_COV_STRUC_ACH], [CONS_PERM_COV_STRUC_ID], [CTRL_TRK_LOAD_ACH], [CTRL_TRK_LOAD_ID], [DES_TRK_LOAD_AREA_ACH], [DES_TRK_LOAD_AREA_ID], [DES_RUNOFF_CTRL_ACH], [DES_RUNOFF_CTRL_ID], [DEV_PROG_PHASE_OUT_ACH], [DEV_PROG_PHASE_OUT_ID], [EXP_INDOOR_ABR_ACH], [EXP_INDOOR_ABR_ID], [ID_SALT_VUL_AREAS_ACH], [ID_SALT_VUL_AREAS_ID], [IMP_PAD_ABR_ACH], [IMP_PAD_ABR_ID], [IMPL_PROT_MIT_MEAS_ACH], [IMPL_PROT_MIT_MEAS_ID], [INC_PRE_WET_EQ_ACH], [INC_PRE_WET_EQ_ID], [INST_ADD_RWIS_ACH], [INST_ADD_RWIS_ID], [INST_EQ_WASH_BAY_ACH], [INST_EQ_WASH_BAY_ID], [INST_GPS_COMP_SYS_ACH], [INST_GPS_COMP_SYS_ID], [INST_GRND_SPD_CTRL_ACH], [INST_GRND_SPD_CTRL_ID], [INST_IR_THERM_ACH], [INST_IR_THERM_ID], [INST_LIQ_ANTI_IC_ACH], [INST_LIQ_ANTI_IC_ID], [INST_MOBILE_RWIS_ACH], [INST_MOBILE_RWIS_ID], [INST_NEW_SITE_LP_ACH], [INST_NEW_SITE_LP_ID], [MAN_SALT_CONT_WAT_ACH], [MAN_SALT_CONT_WAT_ID], [NEW_SALT_DOME_IND_ACH], [NEW_SALT_DOME_IND_ID], [NEW_SALT_DOME_PAD_ACH], [NEW_SALT_DOME_PAD_ID], [OTHER_ACH], [OTHER_ID], [OTHER_SNOW_DISP_ACH], [OTHER_SNOW_DISP_ID], [OTHER_SPEC_ACH], [OTHER_SPEC_ID], [OTHER_VUL_AREAS_ACH], [OTHER_VUL_AREAS_ID], [PRIO_AREAS_ADD_PROT_ACH], [PRIO_AREAS_ADD_PROT_ID], [RECONF_OP_FAC_ACH], [RECONF_OP_FAC_ID], [RECONF_STOR_CAP_ACH], [RECONF_STOR_CAP_ID], [REM_CONT_SNOW_ACH], [REM_CONT_SNOW_ID], [REV_SALT_USE_ACH], [REV_SALT_USE_ID], [SALT_REPORT_ID], [SPILL_PREV_PLAN_ACH], [SPILL_PREV_PLAN_ID], [TEST_NEW_PROD_ACH], [TEST_NEW_PROD_ID], [UPG_SITE_LP_ACH], [UPG_SITE_LP_ID], [UPG_SALT_STOR_SITES_ACH], [UPG_SALT_STOR_SITES_ID], [USE_APP_RATE_CHART_ACH], [USE_APP_RATE_CHART_ID], [USE_MDSS_ACH], [USE_MDSS_ID], [USE_PRE_TRT_SALT_ACH], [USE_PRE_TRT_SALT_ID], [USE_TARPS_ABR_ACH], [USE_TARPS_ABR_ID], [APPENDIX_ID], [CONCURRENCY_CONTROL_NUMBER], [APP_CREATE_USERID], [APP_CREATE_TIMESTAMP], [APP_CREATE_USER_GUID], [APP_CREATE_USER_DIRECTORY], [APP_LAST_UPDATE_USERID], [APP_LAST_UPDATE_TIMESTAMP], [APP_LAST_UPDATE_USER_GUID], [APP_LAST_UPDATE_USER_DIRECTORY], [DB_AUDIT_CREATE_USERID], [DB_AUDIT_CREATE_TIMESTAMP], [DB_AUDIT_LAST_UPDATE_USERID], [DB_AUDIT_LAST_UPDATE_TIMESTAMP], (next value for [dbo].[HMR_SALT_APPENDIX_H_ID_SEQ]) as [SALT_APPENDIX_HIST_ID], null as [END_DATE_HIST], @curr_date as [EFFECTIVE_DATE_HIST] from inserted;

END TRY
BEGIN CATCH
   IF @@trancount > 0 ROLLBACK TRANSACTION
   EXEC hmr_error_handling
END CATCH;
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] ENABLE TRIGGER [HMR_SLTAPP_PK_A_S_IUD_TR]
GO
/****** Object:  Trigger [dbo].[HMR_SLTAPP_PK_I_S_I_TR]    Script Date: 2024-04-16 11:48:31 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TRIGGER [dbo].[HMR_SLTAPP_PK_I_S_I_TR] ON [dbo].[HMR_SALT_APPENDIX] INSTEAD OF INSERT AS
SET NOCOUNT ON
BEGIN TRY
  IF NOT EXISTS(SELECT * FROM inserted) 
    RETURN;

  
  insert into HMR_SALT_APPENDIX ("ACC_MET_SRV_ACH",
      "ACC_MET_SRV_ID",
      "ACC_RWIS_DATA_ACH",
      "ACC_RWIS_DATA_ID",
      "ADPT_ANTI_ICING_ACH",
      "ADPT_ANTI_ICING_ID",
      "ADPT_PRE_WET_NET_ACH",
      "ADPT_PRE_WET_NET_ID",
      "ADPT_PRE_WET_ABR_ACH",
      "ADPT_PRE_WET_ABR_ID",
      "ASS_PLW_EFF_ACH",
      "ASS_PLW_EFF_ID",
      "COL_MELT_WATER_PT_ACH",
      "COL_MELT_WATER_PT_ID",
      "CON_ENV_MON_ACH",
      "CON_ENV_MON_ID",
      "CONS_COLL_POND_ACH",
      "CONS_COLL_POND_ID",
      "CONS_PERM_COV_STRUC_ACH",
      "CONS_PERM_COV_STRUC_ID",
      "CTRL_TRK_LOAD_ACH",
      "CTRL_TRK_LOAD_ID",
      "DES_TRK_LOAD_AREA_ACH",
      "DES_TRK_LOAD_AREA_ID",
      "DES_RUNOFF_CTRL_ACH",
      "DES_RUNOFF_CTRL_ID",
      "DEV_PROG_PHASE_OUT_ACH",
      "DEV_PROG_PHASE_OUT_ID",
      "EXP_INDOOR_ABR_ACH",
      "EXP_INDOOR_ABR_ID",
      "ID_SALT_VUL_AREAS_ACH",
      "ID_SALT_VUL_AREAS_ID",
      "IMP_PAD_ABR_ACH",
      "IMP_PAD_ABR_ID",
      "IMPL_PROT_MIT_MEAS_ACH",
      "IMPL_PROT_MIT_MEAS_ID",
      "INC_PRE_WET_EQ_ACH",
      "INC_PRE_WET_EQ_ID",
      "INST_ADD_RWIS_ACH",
      "INST_ADD_RWIS_ID",
      "INST_EQ_WASH_BAY_ACH",
      "INST_EQ_WASH_BAY_ID",
      "INST_GPS_COMP_SYS_ACH",
      "INST_GPS_COMP_SYS_ID",
      "INST_GRND_SPD_CTRL_ACH",
      "INST_GRND_SPD_CTRL_ID",
      "INST_IR_THERM_ACH",
      "INST_IR_THERM_ID",
      "INST_LIQ_ANTI_IC_ACH",
      "INST_LIQ_ANTI_IC_ID",
      "INST_MOBILE_RWIS_ACH",
      "INST_MOBILE_RWIS_ID",
      "INST_NEW_SITE_LP_ACH",
      "INST_NEW_SITE_LP_ID",
      "MAN_SALT_CONT_WAT_ACH",
      "MAN_SALT_CONT_WAT_ID",
      "NEW_SALT_DOME_IND_ACH",
      "NEW_SALT_DOME_IND_ID",
      "NEW_SALT_DOME_PAD_ACH",
      "NEW_SALT_DOME_PAD_ID",
      "OTHER_ACH",
      "OTHER_ID",
      "OTHER_SNOW_DISP_ACH",
      "OTHER_SNOW_DISP_ID",
      "OTHER_SPEC_ACH",
      "OTHER_SPEC_ID",
      "OTHER_VUL_AREAS_ACH",
      "OTHER_VUL_AREAS_ID",
      "PRIO_AREAS_ADD_PROT_ACH",
      "PRIO_AREAS_ADD_PROT_ID",
      "RECONF_OP_FAC_ACH",
      "RECONF_OP_FAC_ID",
      "RECONF_STOR_CAP_ACH",
      "RECONF_STOR_CAP_ID",
      "REM_CONT_SNOW_ACH",
      "REM_CONT_SNOW_ID",
      "REV_SALT_USE_ACH",
      "REV_SALT_USE_ID",
      "SALT_REPORT_ID",
      "SPILL_PREV_PLAN_ACH",
      "SPILL_PREV_PLAN_ID",
      "TEST_NEW_PROD_ACH",
      "TEST_NEW_PROD_ID",
      "UPG_SITE_LP_ACH",
      "UPG_SITE_LP_ID",
      "UPG_SALT_STOR_SITES_ACH",
      "UPG_SALT_STOR_SITES_ID",
      "USE_APP_RATE_CHART_ACH",
      "USE_APP_RATE_CHART_ID",
      "USE_MDSS_ACH",
      "USE_MDSS_ID",
      "USE_PRE_TRT_SALT_ACH",
      "USE_PRE_TRT_SALT_ID",
      "USE_TARPS_ABR_ACH",
      "USE_TARPS_ABR_ID",
      "APPENDIX_ID",
      "CONCURRENCY_CONTROL_NUMBER",
      "APP_CREATE_USERID",
      "APP_CREATE_TIMESTAMP",
      "APP_CREATE_USER_GUID",
      "APP_CREATE_USER_DIRECTORY",
      "APP_LAST_UPDATE_USERID",
      "APP_LAST_UPDATE_TIMESTAMP",
      "APP_LAST_UPDATE_USER_GUID",
      "APP_LAST_UPDATE_USER_DIRECTORY")
    select "ACC_MET_SRV_ACH",
      "ACC_MET_SRV_ID",
      "ACC_RWIS_DATA_ACH",
      "ACC_RWIS_DATA_ID",
      "ADPT_ANTI_ICING_ACH",
      "ADPT_ANTI_ICING_ID",
      "ADPT_PRE_WET_NET_ACH",
      "ADPT_PRE_WET_NET_ID",
      "ADPT_PRE_WET_ABR_ACH",
      "ADPT_PRE_WET_ABR_ID",
      "ASS_PLW_EFF_ACH",
      "ASS_PLW_EFF_ID",
      "COL_MELT_WATER_PT_ACH",
      "COL_MELT_WATER_PT_ID",
      "CON_ENV_MON_ACH",
      "CON_ENV_MON_ID",
      "CONS_COLL_POND_ACH",
      "CONS_COLL_POND_ID",
      "CONS_PERM_COV_STRUC_ACH",
      "CONS_PERM_COV_STRUC_ID",
      "CTRL_TRK_LOAD_ACH",
      "CTRL_TRK_LOAD_ID",
      "DES_TRK_LOAD_AREA_ACH",
      "DES_TRK_LOAD_AREA_ID",
      "DES_RUNOFF_CTRL_ACH",
      "DES_RUNOFF_CTRL_ID",
      "DEV_PROG_PHASE_OUT_ACH",
      "DEV_PROG_PHASE_OUT_ID",
      "EXP_INDOOR_ABR_ACH",
      "EXP_INDOOR_ABR_ID",
      "ID_SALT_VUL_AREAS_ACH",
      "ID_SALT_VUL_AREAS_ID",
      "IMP_PAD_ABR_ACH",
      "IMP_PAD_ABR_ID",
      "IMPL_PROT_MIT_MEAS_ACH",
      "IMPL_PROT_MIT_MEAS_ID",
      "INC_PRE_WET_EQ_ACH",
      "INC_PRE_WET_EQ_ID",
      "INST_ADD_RWIS_ACH",
      "INST_ADD_RWIS_ID",
      "INST_EQ_WASH_BAY_ACH",
      "INST_EQ_WASH_BAY_ID",
      "INST_GPS_COMP_SYS_ACH",
      "INST_GPS_COMP_SYS_ID",
      "INST_GRND_SPD_CTRL_ACH",
      "INST_GRND_SPD_CTRL_ID",
      "INST_IR_THERM_ACH",
      "INST_IR_THERM_ID",
      "INST_LIQ_ANTI_IC_ACH",
      "INST_LIQ_ANTI_IC_ID",
      "INST_MOBILE_RWIS_ACH",
      "INST_MOBILE_RWIS_ID",
      "INST_NEW_SITE_LP_ACH",
      "INST_NEW_SITE_LP_ID",
      "MAN_SALT_CONT_WAT_ACH",
      "MAN_SALT_CONT_WAT_ID",
      "NEW_SALT_DOME_IND_ACH",
      "NEW_SALT_DOME_IND_ID",
      "NEW_SALT_DOME_PAD_ACH",
      "NEW_SALT_DOME_PAD_ID",
      "OTHER_ACH",
      "OTHER_ID",
      "OTHER_SNOW_DISP_ACH",
      "OTHER_SNOW_DISP_ID",
      "OTHER_SPEC_ACH",
      "OTHER_SPEC_ID",
      "OTHER_VUL_AREAS_ACH",
      "OTHER_VUL_AREAS_ID",
      "PRIO_AREAS_ADD_PROT_ACH",
      "PRIO_AREAS_ADD_PROT_ID",
      "RECONF_OP_FAC_ACH",
      "RECONF_OP_FAC_ID",
      "RECONF_STOR_CAP_ACH",
      "RECONF_STOR_CAP_ID",
      "REM_CONT_SNOW_ACH",
      "REM_CONT_SNOW_ID",
      "REV_SALT_USE_ACH",
      "REV_SALT_USE_ID",
      "SALT_REPORT_ID",
      "SPILL_PREV_PLAN_ACH",
      "SPILL_PREV_PLAN_ID",
      "TEST_NEW_PROD_ACH",
      "TEST_NEW_PROD_ID",
      "UPG_SITE_LP_ACH",
      "UPG_SITE_LP_ID",
      "UPG_SALT_STOR_SITES_ACH",
      "UPG_SALT_STOR_SITES_ID",
      "USE_APP_RATE_CHART_ACH",
      "USE_APP_RATE_CHART_ID",
      "USE_MDSS_ACH",
      "USE_MDSS_ID",
      "USE_PRE_TRT_SALT_ACH",
      "USE_PRE_TRT_SALT_ID",
      "USE_TARPS_ABR_ACH",
      "USE_TARPS_ABR_ID",
      "APPENDIX_ID",
      "CONCURRENCY_CONTROL_NUMBER",
      "APP_CREATE_USERID",
      "APP_CREATE_TIMESTAMP",
      "APP_CREATE_USER_GUID",
      "APP_CREATE_USER_DIRECTORY",
      "APP_LAST_UPDATE_USERID",
      "APP_LAST_UPDATE_TIMESTAMP",
      "APP_LAST_UPDATE_USER_GUID",
      "APP_LAST_UPDATE_USER_DIRECTORY"
    from inserted;

END TRY
BEGIN CATCH
   IF @@trancount > 0 ROLLBACK TRANSACTION
   EXEC hmr_error_handling
END CATCH;
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] ENABLE TRIGGER [HMR_SLTAPP_PK_I_S_I_TR]
GO
/****** Object:  Trigger [dbo].[HMR_SLTAPP_PK_I_S_U_TR]    Script Date: 2024-04-16 11:48:31 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TRIGGER [dbo].[HMR_SLTAPP_PK_I_S_U_TR] ON [dbo].[HMR_SALT_APPENDIX] INSTEAD OF UPDATE AS
SET NOCOUNT ON
BEGIN TRY
  IF NOT EXISTS(SELECT * FROM deleted) 
    RETURN;

  -- validate concurrency control
  if exists (select 1 from inserted, deleted where inserted.CONCURRENCY_CONTROL_NUMBER != deleted.CONCURRENCY_CONTROL_NUMBER+1 AND inserted.APPENDIX_ID = deleted.APPENDIX_ID)
    raiserror('CONCURRENCY FAILURE.',16,1)


  -- update statement
  update HMR_SALT_APPENDIX
    set "ACC_MET_SRV_ACH" = inserted."ACC_MET_SRV_ACH",
      "ACC_MET_SRV_ID" = inserted."ACC_MET_SRV_ID",
      "ACC_RWIS_DATA_ACH" = inserted."ACC_RWIS_DATA_ACH",
      "ACC_RWIS_DATA_ID" = inserted."ACC_RWIS_DATA_ID",
      "ADPT_ANTI_ICING_ACH" = inserted."ADPT_ANTI_ICING_ACH",
      "ADPT_ANTI_ICING_ID" = inserted."ADPT_ANTI_ICING_ID",
      "ADPT_PRE_WET_NET_ACH" = inserted."ADPT_PRE_WET_NET_ACH",
      "ADPT_PRE_WET_NET_ID" = inserted."ADPT_PRE_WET_NET_ID",
      "ADPT_PRE_WET_ABR_ACH" = inserted."ADPT_PRE_WET_ABR_ACH",
      "ADPT_PRE_WET_ABR_ID" = inserted."ADPT_PRE_WET_ABR_ID",
      "ASS_PLW_EFF_ACH" = inserted."ASS_PLW_EFF_ACH",
      "ASS_PLW_EFF_ID" = inserted."ASS_PLW_EFF_ID",
      "COL_MELT_WATER_PT_ACH" = inserted."COL_MELT_WATER_PT_ACH",
      "COL_MELT_WATER_PT_ID" = inserted."COL_MELT_WATER_PT_ID",
      "CON_ENV_MON_ACH" = inserted."CON_ENV_MON_ACH",
      "CON_ENV_MON_ID" = inserted."CON_ENV_MON_ID",
      "CONS_COLL_POND_ACH" = inserted."CONS_COLL_POND_ACH",
      "CONS_COLL_POND_ID" = inserted."CONS_COLL_POND_ID",
      "CONS_PERM_COV_STRUC_ACH" = inserted."CONS_PERM_COV_STRUC_ACH",
      "CONS_PERM_COV_STRUC_ID" = inserted."CONS_PERM_COV_STRUC_ID",
      "CTRL_TRK_LOAD_ACH" = inserted."CTRL_TRK_LOAD_ACH",
      "CTRL_TRK_LOAD_ID" = inserted."CTRL_TRK_LOAD_ID",
      "DES_TRK_LOAD_AREA_ACH" = inserted."DES_TRK_LOAD_AREA_ACH",
      "DES_TRK_LOAD_AREA_ID" = inserted."DES_TRK_LOAD_AREA_ID",
      "DES_RUNOFF_CTRL_ACH" = inserted."DES_RUNOFF_CTRL_ACH",
      "DES_RUNOFF_CTRL_ID" = inserted."DES_RUNOFF_CTRL_ID",
      "DEV_PROG_PHASE_OUT_ACH" = inserted."DEV_PROG_PHASE_OUT_ACH",
      "DEV_PROG_PHASE_OUT_ID" = inserted."DEV_PROG_PHASE_OUT_ID",
      "EXP_INDOOR_ABR_ACH" = inserted."EXP_INDOOR_ABR_ACH",
      "EXP_INDOOR_ABR_ID" = inserted."EXP_INDOOR_ABR_ID",
      "ID_SALT_VUL_AREAS_ACH" = inserted."ID_SALT_VUL_AREAS_ACH",
      "ID_SALT_VUL_AREAS_ID" = inserted."ID_SALT_VUL_AREAS_ID",
      "IMP_PAD_ABR_ACH" = inserted."IMP_PAD_ABR_ACH",
      "IMP_PAD_ABR_ID" = inserted."IMP_PAD_ABR_ID",
      "IMPL_PROT_MIT_MEAS_ACH" = inserted."IMPL_PROT_MIT_MEAS_ACH",
      "IMPL_PROT_MIT_MEAS_ID" = inserted."IMPL_PROT_MIT_MEAS_ID",
      "INC_PRE_WET_EQ_ACH" = inserted."INC_PRE_WET_EQ_ACH",
      "INC_PRE_WET_EQ_ID" = inserted."INC_PRE_WET_EQ_ID",
      "INST_ADD_RWIS_ACH" = inserted."INST_ADD_RWIS_ACH",
      "INST_ADD_RWIS_ID" = inserted."INST_ADD_RWIS_ID",
      "INST_EQ_WASH_BAY_ACH" = inserted."INST_EQ_WASH_BAY_ACH",
      "INST_EQ_WASH_BAY_ID" = inserted."INST_EQ_WASH_BAY_ID",
      "INST_GPS_COMP_SYS_ACH" = inserted."INST_GPS_COMP_SYS_ACH",
      "INST_GPS_COMP_SYS_ID" = inserted."INST_GPS_COMP_SYS_ID",
      "INST_GRND_SPD_CTRL_ACH" = inserted."INST_GRND_SPD_CTRL_ACH",
      "INST_GRND_SPD_CTRL_ID" = inserted."INST_GRND_SPD_CTRL_ID",
      "INST_IR_THERM_ACH" = inserted."INST_IR_THERM_ACH",
      "INST_IR_THERM_ID" = inserted."INST_IR_THERM_ID",
      "INST_LIQ_ANTI_IC_ACH" = inserted."INST_LIQ_ANTI_IC_ACH",
      "INST_LIQ_ANTI_IC_ID" = inserted."INST_LIQ_ANTI_IC_ID",
      "INST_MOBILE_RWIS_ACH" = inserted."INST_MOBILE_RWIS_ACH",
      "INST_MOBILE_RWIS_ID" = inserted."INST_MOBILE_RWIS_ID",
      "INST_NEW_SITE_LP_ACH" = inserted."INST_NEW_SITE_LP_ACH",
      "INST_NEW_SITE_LP_ID" = inserted."INST_NEW_SITE_LP_ID",
      "MAN_SALT_CONT_WAT_ACH" = inserted."MAN_SALT_CONT_WAT_ACH",
      "MAN_SALT_CONT_WAT_ID" = inserted."MAN_SALT_CONT_WAT_ID",
      "NEW_SALT_DOME_IND_ACH" = inserted."NEW_SALT_DOME_IND_ACH",
      "NEW_SALT_DOME_IND_ID" = inserted."NEW_SALT_DOME_IND_ID",
      "NEW_SALT_DOME_PAD_ACH" = inserted."NEW_SALT_DOME_PAD_ACH",
      "NEW_SALT_DOME_PAD_ID" = inserted."NEW_SALT_DOME_PAD_ID",
      "OTHER_ACH" = inserted."OTHER_ACH",
      "OTHER_ID" = inserted."OTHER_ID",
      "OTHER_SNOW_DISP_ACH" = inserted."OTHER_SNOW_DISP_ACH",
      "OTHER_SNOW_DISP_ID" = inserted."OTHER_SNOW_DISP_ID",
      "OTHER_SPEC_ACH" = inserted."OTHER_SPEC_ACH",
      "OTHER_SPEC_ID" = inserted."OTHER_SPEC_ID",
      "OTHER_VUL_AREAS_ACH" = inserted."OTHER_VUL_AREAS_ACH",
      "OTHER_VUL_AREAS_ID" = inserted."OTHER_VUL_AREAS_ID",
      "PRIO_AREAS_ADD_PROT_ACH" = inserted."PRIO_AREAS_ADD_PROT_ACH",
      "PRIO_AREAS_ADD_PROT_ID" = inserted."PRIO_AREAS_ADD_PROT_ID",
      "RECONF_OP_FAC_ACH" = inserted."RECONF_OP_FAC_ACH",
      "RECONF_OP_FAC_ID" = inserted."RECONF_OP_FAC_ID",
      "RECONF_STOR_CAP_ACH" = inserted."RECONF_STOR_CAP_ACH",
      "RECONF_STOR_CAP_ID" = inserted."RECONF_STOR_CAP_ID",
      "REM_CONT_SNOW_ACH" = inserted."REM_CONT_SNOW_ACH",
      "REM_CONT_SNOW_ID" = inserted."REM_CONT_SNOW_ID",
      "REV_SALT_USE_ACH" = inserted."REV_SALT_USE_ACH",
      "REV_SALT_USE_ID" = inserted."REV_SALT_USE_ID",
      "SALT_REPORT_ID" = inserted."SALT_REPORT_ID",
      "SPILL_PREV_PLAN_ACH" = inserted."SPILL_PREV_PLAN_ACH",
      "SPILL_PREV_PLAN_ID" = inserted."SPILL_PREV_PLAN_ID",
      "TEST_NEW_PROD_ACH" = inserted."TEST_NEW_PROD_ACH",
      "TEST_NEW_PROD_ID" = inserted."TEST_NEW_PROD_ID",
      "UPG_SITE_LP_ACH" = inserted."UPG_SITE_LP_ACH",
      "UPG_SITE_LP_ID" = inserted."UPG_SITE_LP_ID",
      "UPG_SALT_STOR_SITES_ACH" = inserted."UPG_SALT_STOR_SITES_ACH",
      "UPG_SALT_STOR_SITES_ID" = inserted."UPG_SALT_STOR_SITES_ID",
      "USE_APP_RATE_CHART_ACH" = inserted."USE_APP_RATE_CHART_ACH",
      "USE_APP_RATE_CHART_ID" = inserted."USE_APP_RATE_CHART_ID",
      "USE_MDSS_ACH" = inserted."USE_MDSS_ACH",
      "USE_MDSS_ID" = inserted."USE_MDSS_ID",
      "USE_PRE_TRT_SALT_ACH" = inserted."USE_PRE_TRT_SALT_ACH",
      "USE_PRE_TRT_SALT_ID" = inserted."USE_PRE_TRT_SALT_ID",
      "USE_TARPS_ABR_ACH" = inserted."USE_TARPS_ABR_ACH",
      "USE_TARPS_ABR_ID" = inserted."USE_TARPS_ABR_ID",
      "APPENDIX_ID" = inserted."APPENDIX_ID",
      "CONCURRENCY_CONTROL_NUMBER" = inserted."CONCURRENCY_CONTROL_NUMBER",
      "APP_LAST_UPDATE_USERID" = inserted."APP_LAST_UPDATE_USERID",
      "APP_LAST_UPDATE_TIMESTAMP" = inserted."APP_LAST_UPDATE_TIMESTAMP",
      "APP_LAST_UPDATE_USER_GUID" = inserted."APP_LAST_UPDATE_USER_GUID",
      "APP_LAST_UPDATE_USER_DIRECTORY" = inserted."APP_LAST_UPDATE_USER_DIRECTORY"
    , DB_AUDIT_LAST_UPDATE_TIMESTAMP = getutcdate()
    , DB_AUDIT_LAST_UPDATE_USERID = user_name()
    from HMR_SALT_APPENDIX
    inner join inserted
    on (HMR_SALT_APPENDIX.APPENDIX_ID = inserted.APPENDIX_ID);

END TRY
BEGIN CATCH
   IF @@trancount > 0 ROLLBACK TRANSACTION
   EXEC hmr_error_handling
END CATCH;
GO
ALTER TABLE [dbo].[HMR_SALT_APPENDIX] ENABLE TRIGGER [HMR_SLTAPP_PK_I_S_U_TR]
GO
/****** Object:  Trigger [dbo].[HMR_SLTRPT_PK_A_S_IUD_TR]    Script Date: 2024-04-16 11:48:32 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE TRIGGER [dbo].[HMR_SLTRPT_PK_A_S_IUD_TR] ON [dbo].[HMR_SALT_REPORT] FOR INSERT, UPDATE, DELETE AS
SET NOCOUNT ON
BEGIN TRY
DECLARE @curr_date datetime;
SET @curr_date = getutcdate();
  IF NOT EXISTS(SELECT * FROM inserted) AND NOT EXISTS(SELECT * FROM deleted) 
    RETURN;

  -- historical
  IF EXISTS(SELECT * FROM deleted)
    update HMR_SALT_REPORT_HIST set END_DATE_HIST = @curr_date where SALT_REPORT_ID in (select SALT_REPORT_ID from deleted) and END_DATE_HIST is null;
  
  IF EXISTS(SELECT * FROM inserted)
    insert into HMR_SALT_REPORT_HIST ([SALT_REPORT_ID], [SERVICE_AREA], [CNTCT_NAME], [EMAIL], [TEL], [PLAN_DEV], [PLAN_REV], [PLAN_UPD], [MGR_TRAIN], [SUPV_TRAIN], [OPR_TRAIN], [MECH_TRAIN], [PATR_TRAIN], [MAT_STOR_ID], [MAT_STOR_ACH], [SALT_APP_ID], [SALT_APP_ACH], [RD_TOT_LEN], [SALT_TOT_DAYS], [DEICER_NACL], [DEICER_MGCL2], [DEICER_CACL2], [DEICER_ACET], [TRTD_ABR_SDST], [TRTD_ABR_NACL], [TRTD_ABR_MGCL2], [TRTD_ABR_CACL2], [PRWT_NACL], [PRWT_MGCL2], [PRWT_CACL2], [PRWT_ACET], [PRWT_NONCL], [PRTT_NACL], [PRTT_MGCL2], [PRTT_CACL2], [PRTT_ACET], [PRTT_NONCL], [ANTIC_NACL], [ANTIC_MGCL2], [ANTIC_CACL2], [ANTIC_ACET], [ANTIC_NONCL], [MULTICHL_A_CACL2_PCT], [MULTICHL_A_LTRS], [MULTICHL_A_NACL_PCT], [MULTICHL_A_MGCL2_PCT], [MULTICHL_B_LTRS], [MULTICHL_B_MGCL2_PCT], [MULTICHL_B_NACL_PCT], [MULTICHL_B_CACL2_PCT], [SALT_STRG_SITES_TOT], [ALL_MAT_HNDL_PLAN], [ALL_MAT_HNDL_SITES], [CTRL_DIV_EXT_WAT_PLAN], [CTRL_DIV_EXT_WAT_SITES], [DRAIN_COLL_SYS_PLAN], [DRAIN_COLL_SYS_SITES], [EQP_PRVNT_OVRLOAD_PLAN], [EQP_PRVNT_OVRLOAD_SITES], [MUN_SEWER_SYS_PLAN], [MUN_SEWER_SYS_SITES], [ONGOING_CLNUP_PLAN], [ONGOING_CLNUP_SITES], [OTH_DISCH_PT_PLAN], [OTH_DISCH_PT_SITES], [REMOV_CONT_PLAN], [REMOV_CONT_SITES], [RISK_MGMT_PLAN_PLAN], [RISK_MGMT_PLAN_SITES], [WASTE_WATER_SYS_PLAN], [WASTE_WATER_SYS_SITES], [WATERCRS_PLAN], [WATERCRS_SITES], [NUM_VEHICLES], [VEH_SALT_APP], [VEH_CONV], [VEH_PREWET_EQ], [VEH_DLA], [REG_CALIB], [REG_CALIB_TOT], [IR_THRM_REL], [IR_THRM_TOT], [MET_SVC_REL], [FIX_RWIS_REL], [FIX_RWIS_TOT], [MOB_RWIS_REL], [MOB_RWIS_TOT], [AVL_REL], [AVL_TOT], [SALT_APP_RATE_REL], [SALT_APP_RATE_TOT], [APP_RATE_CHRT_REL], [APP_RATE_CHRT_TOT], [TEST_MDSS_REL], [TEST_SMDS_TOT], [SNOW_DISP_SITE_USED], [SNOW_DISP_SITE_TOT], [SNOW_MELT_USED], [MELTWATER_DISP_METH_USED], [COMP_INV], [SET_VULN_AREAS], [ACT_PLAN_PREP], [PROT_MEAS_IMPL], [ENV_MON_COND], [AQUA_LIFE_AREA_ID], [AQUA_LIFE_CHLOR_ID], [AQUA_LIFE_PROT_ID], [DELIM_AREA_ID], [DELIM_AREA_CHLOR_ID], [DELIM_AREA_PROT_ID], [DRINK_WATER_AREA_ID], [DRINK_WATER_CHLOR_ID], [DRINK_WATER_PROT_ID], [VAL_LANDS_AREA_ID], [VAL_LANDS_CHLOR_ID], [VAL_LANDS_PROT_ID], [WETLANDS_AREA_ID], [WETLANDS_CHLOR_ID], [WETLANDS_PROT_ID], [CONCURRENCY_CONTROL_NUMBER], [APP_CREATE_USERID], [APP_CREATE_TIMESTAMP], [APP_CREATE_USER_GUID], [APP_CREATE_USER_DIRECTORY], [APP_LAST_UPDATE_USERID], [APP_LAST_UPDATE_TIMESTAMP], [APP_LAST_UPDATE_USER_GUID], [APP_LAST_UPDATE_USER_DIRECTORY], [DB_AUDIT_CREATE_USERID], [DB_AUDIT_CREATE_TIMESTAMP], [DB_AUDIT_LAST_UPDATE_USERID], [DB_AUDIT_LAST_UPDATE_TIMESTAMP], SALT_REPORT_HIST_ID, END_DATE_HIST, EFFECTIVE_DATE_HIST)
      select [SALT_REPORT_ID], [SERVICE_AREA], [CNTCT_NAME], [EMAIL], [TEL], [PLAN_DEV], [PLAN_REV], [PLAN_UPD], [MGR_TRAIN], [SUPV_TRAIN], [OPR_TRAIN], [MECH_TRAIN], [PATR_TRAIN], [MAT_STOR_ID], [MAT_STOR_ACH], [SALT_APP_ID], [SALT_APP_ACH], [RD_TOT_LEN], [SALT_TOT_DAYS], [DEICER_NACL], [DEICER_MGCL2], [DEICER_CACL2], [DEICER_ACET], [TRTD_ABR_SDST], [TRTD_ABR_NACL], [TRTD_ABR_MGCL2], [TRTD_ABR_CACL2], [PRWT_NACL], [PRWT_MGCL2], [PRWT_CACL2], [PRWT_ACET], [PRWT_NONCL], [PRTT_NACL], [PRTT_MGCL2], [PRTT_CACL2], [PRTT_ACET], [PRTT_NONCL], [ANTIC_NACL], [ANTIC_MGCL2], [ANTIC_CACL2], [ANTIC_ACET], [ANTIC_NONCL], [MULTICHL_A_CACL2_PCT], [MULTICHL_A_LTRS], [MULTICHL_A_NACL_PCT], [MULTICHL_A_MGCL2_PCT], [MULTICHL_B_LTRS], [MULTICHL_B_MGCL2_PCT], [MULTICHL_B_NACL_PCT], [MULTICHL_B_CACL2_PCT], [SALT_STRG_SITES_TOT], [ALL_MAT_HNDL_PLAN], [ALL_MAT_HNDL_SITES], [CTRL_DIV_EXT_WAT_PLAN], [CTRL_DIV_EXT_WAT_SITES], [DRAIN_COLL_SYS_PLAN], [DRAIN_COLL_SYS_SITES], [EQP_PRVNT_OVRLOAD_PLAN], [EQP_PRVNT_OVRLOAD_SITES], [MUN_SEWER_SYS_PLAN], [MUN_SEWER_SYS_SITES], [ONGOING_CLNUP_PLAN], [ONGOING_CLNUP_SITES], [OTH_DISCH_PT_PLAN], [OTH_DISCH_PT_SITES], [REMOV_CONT_PLAN], [REMOV_CONT_SITES], [RISK_MGMT_PLAN_PLAN], [RISK_MGMT_PLAN_SITES], [WASTE_WATER_SYS_PLAN], [WASTE_WATER_SYS_SITES], [WATERCRS_PLAN], [WATERCRS_SITES], [NUM_VEHICLES], [VEH_SALT_APP], [VEH_CONV], [VEH_PREWET_EQ], [VEH_DLA], [REG_CALIB], [REG_CALIB_TOT], [IR_THRM_REL], [IR_THRM_TOT], [MET_SVC_REL], [FIX_RWIS_REL], [FIX_RWIS_TOT], [MOB_RWIS_REL], [MOB_RWIS_TOT], [AVL_REL], [AVL_TOT], [SALT_APP_RATE_REL], [SALT_APP_RATE_TOT], [APP_RATE_CHRT_REL], [APP_RATE_CHRT_TOT], [TEST_MDSS_REL], [TEST_SMDS_TOT], [SNOW_DISP_SITE_USED], [SNOW_DISP_SITE_TOT], [SNOW_MELT_USED], [MELTWATER_DISP_METH_USED], [COMP_INV], [SET_VULN_AREAS], [ACT_PLAN_PREP], [PROT_MEAS_IMPL], [ENV_MON_COND], [AQUA_LIFE_AREA_ID], [AQUA_LIFE_CHLOR_ID], [AQUA_LIFE_PROT_ID], [DELIM_AREA_ID], [DELIM_AREA_CHLOR_ID], [DELIM_AREA_PROT_ID], [DRINK_WATER_AREA_ID], [DRINK_WATER_CHLOR_ID], [DRINK_WATER_PROT_ID], [VAL_LANDS_AREA_ID], [VAL_LANDS_CHLOR_ID], [VAL_LANDS_PROT_ID], [WETLANDS_AREA_ID], [WETLANDS_CHLOR_ID], [WETLANDS_PROT_ID], [CONCURRENCY_CONTROL_NUMBER], [APP_CREATE_USERID], [APP_CREATE_TIMESTAMP], [APP_CREATE_USER_GUID], [APP_CREATE_USER_DIRECTORY], [APP_LAST_UPDATE_USERID], [APP_LAST_UPDATE_TIMESTAMP], [APP_LAST_UPDATE_USER_GUID], [APP_LAST_UPDATE_USER_DIRECTORY], [DB_AUDIT_CREATE_USERID], [DB_AUDIT_CREATE_TIMESTAMP], [DB_AUDIT_LAST_UPDATE_USERID], [DB_AUDIT_LAST_UPDATE_TIMESTAMP], (next value for [dbo].[HMR_SALT_REPORT_H_ID_SEQ]) as [SALT_REPORT_HIST_ID], null as [END_DATE_HIST], @curr_date as [EFFECTIVE_DATE_HIST] from inserted;

END TRY
BEGIN CATCH
   IF @@trancount > 0 ROLLBACK TRANSACTION
   EXEC hmr_error_handling
END CATCH;
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] ENABLE TRIGGER [HMR_SLTRPT_PK_A_S_IUD_TR]
GO
/****** Object:  Trigger [dbo].[HMR_SLTRPT_PK_I_S_I_TR]    Script Date: 2024-04-16 11:48:32 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE TRIGGER [dbo].[HMR_SLTRPT_PK_I_S_I_TR] ON [dbo].[HMR_SALT_REPORT] INSTEAD OF INSERT AS
SET NOCOUNT ON
BEGIN TRY
  IF NOT EXISTS(SELECT * FROM inserted) 
    RETURN;

  
  insert into HMR_SALT_REPORT ("SALT_REPORT_ID",
      "SERVICE_AREA",
      "CNTCT_NAME",
      "EMAIL",
      "TEL",
      "PLAN_DEV",
      "PLAN_REV",
      "PLAN_UPD",
      "MGR_TRAIN",
      "SUPV_TRAIN",
      "OPR_TRAIN",
      "MECH_TRAIN",
      "PATR_TRAIN",
      "MAT_STOR_ID",
      "MAT_STOR_ACH",
      "SALT_APP_ID",
      "SALT_APP_ACH",
      "RD_TOT_LEN",
      "SALT_TOT_DAYS",
      "DEICER_NACL",
      "DEICER_MGCL2",
      "DEICER_CACL2",
      "DEICER_ACET",
      "TRTD_ABR_SDST",
      "TRTD_ABR_NACL",
      "TRTD_ABR_MGCL2",
      "TRTD_ABR_CACL2",
      "PRWT_NACL",
      "PRWT_MGCL2",
      "PRWT_CACL2",
      "PRWT_ACET",
      "PRWT_NONCL",
      "PRTT_NACL",
      "PRTT_MGCL2",
      "PRTT_CACL2",
      "PRTT_ACET",
      "PRTT_NONCL",
      "ANTIC_NACL",
      "ANTIC_MGCL2",
      "ANTIC_CACL2",
      "ANTIC_ACET",
      "ANTIC_NONCL",
      "MULTICHL_A_CACL2_PCT",
      "MULTICHL_A_LTRS",
      "MULTICHL_A_NACL_PCT",
      "MULTICHL_A_MGCL2_PCT",
      "MULTICHL_B_LTRS",
      "MULTICHL_B_MGCL2_PCT",
      "MULTICHL_B_NACL_PCT",
      "MULTICHL_B_CACL2_PCT",
      "SALT_STRG_SITES_TOT",
      "ALL_MAT_HNDL_PLAN",
      "ALL_MAT_HNDL_SITES",
      "CTRL_DIV_EXT_WAT_PLAN",
      "CTRL_DIV_EXT_WAT_SITES",
      "DRAIN_COLL_SYS_PLAN",
      "DRAIN_COLL_SYS_SITES",
      "EQP_PRVNT_OVRLOAD_PLAN",
      "EQP_PRVNT_OVRLOAD_SITES",
      "MUN_SEWER_SYS_PLAN",
      "MUN_SEWER_SYS_SITES",
      "ONGOING_CLNUP_PLAN",
      "ONGOING_CLNUP_SITES",
      "OTH_DISCH_PT_PLAN",
      "OTH_DISCH_PT_SITES",
      "REMOV_CONT_PLAN",
      "REMOV_CONT_SITES",
      "RISK_MGMT_PLAN_PLAN",
      "RISK_MGMT_PLAN_SITES",
      "WASTE_WATER_SYS_PLAN",
      "WASTE_WATER_SYS_SITES",
      "WATERCRS_PLAN",
      "WATERCRS_SITES",
      "NUM_VEHICLES",
      "VEH_SALT_APP",
      "VEH_CONV",
      "VEH_PREWET_EQ",
      "VEH_DLA",
      "REG_CALIB",
      "REG_CALIB_TOT",
      "IR_THRM_REL",
      "IR_THRM_TOT",
      "MET_SVC_REL",
      "FIX_RWIS_REL",
      "FIX_RWIS_TOT",
      "MOB_RWIS_REL",
      "MOB_RWIS_TOT",
      "AVL_REL",
      "AVL_TOT",
      "SALT_APP_RATE_REL",
      "SALT_APP_RATE_TOT",
      "APP_RATE_CHRT_REL",
      "APP_RATE_CHRT_TOT",
      "TEST_MDSS_REL",
      "TEST_SMDS_TOT",
      "SNOW_DISP_SITE_USED",
      "SNOW_DISP_SITE_TOT",
      "SNOW_MELT_USED",
      "MELTWATER_DISP_METH_USED",
      "COMP_INV",
      "SET_VULN_AREAS",
      "ACT_PLAN_PREP",
      "PROT_MEAS_IMPL",
      "ENV_MON_COND",
      "AQUA_LIFE_AREA_ID",
      "AQUA_LIFE_CHLOR_ID",
      "AQUA_LIFE_PROT_ID",
      "DELIM_AREA_ID",
      "DELIM_AREA_CHLOR_ID",
      "DELIM_AREA_PROT_ID",
      "DRINK_WATER_AREA_ID",
      "DRINK_WATER_CHLOR_ID",
      "DRINK_WATER_PROT_ID",
      "VAL_LANDS_AREA_ID",
      "VAL_LANDS_CHLOR_ID",
      "VAL_LANDS_PROT_ID",
      "WETLANDS_AREA_ID",
      "WETLANDS_CHLOR_ID",
      "WETLANDS_PROT_ID",
      "CONCURRENCY_CONTROL_NUMBER",
      "APP_CREATE_USERID",
      "APP_CREATE_TIMESTAMP",
      "APP_CREATE_USER_GUID",
      "APP_CREATE_USER_DIRECTORY",
      "APP_LAST_UPDATE_USERID",
      "APP_LAST_UPDATE_TIMESTAMP",
      "APP_LAST_UPDATE_USER_GUID",
      "APP_LAST_UPDATE_USER_DIRECTORY")
    select "SALT_REPORT_ID",
      "SERVICE_AREA",
      "CNTCT_NAME",
      "EMAIL",
      "TEL",
      "PLAN_DEV",
      "PLAN_REV",
      "PLAN_UPD",
      "MGR_TRAIN",
      "SUPV_TRAIN",
      "OPR_TRAIN",
      "MECH_TRAIN",
      "PATR_TRAIN",
      "MAT_STOR_ID",
      "MAT_STOR_ACH",
      "SALT_APP_ID",
      "SALT_APP_ACH",
      "RD_TOT_LEN",
      "SALT_TOT_DAYS",
      "DEICER_NACL",
      "DEICER_MGCL2",
      "DEICER_CACL2",
      "DEICER_ACET",
      "TRTD_ABR_SDST",
      "TRTD_ABR_NACL",
      "TRTD_ABR_MGCL2",
      "TRTD_ABR_CACL2",
      "PRWT_NACL",
      "PRWT_MGCL2",
      "PRWT_CACL2",
      "PRWT_ACET",
      "PRWT_NONCL",
      "PRTT_NACL",
      "PRTT_MGCL2",
      "PRTT_CACL2",
      "PRTT_ACET",
      "PRTT_NONCL",
      "ANTIC_NACL",
      "ANTIC_MGCL2",
      "ANTIC_CACL2",
      "ANTIC_ACET",
      "ANTIC_NONCL",
      "MULTICHL_A_CACL2_PCT",
      "MULTICHL_A_LTRS",
      "MULTICHL_A_NACL_PCT",
      "MULTICHL_A_MGCL2_PCT",
      "MULTICHL_B_LTRS",
      "MULTICHL_B_MGCL2_PCT",
      "MULTICHL_B_NACL_PCT",
      "MULTICHL_B_CACL2_PCT",
      "SALT_STRG_SITES_TOT",
      "ALL_MAT_HNDL_PLAN",
      "ALL_MAT_HNDL_SITES",
      "CTRL_DIV_EXT_WAT_PLAN",
      "CTRL_DIV_EXT_WAT_SITES",
      "DRAIN_COLL_SYS_PLAN",
      "DRAIN_COLL_SYS_SITES",
      "EQP_PRVNT_OVRLOAD_PLAN",
      "EQP_PRVNT_OVRLOAD_SITES",
      "MUN_SEWER_SYS_PLAN",
      "MUN_SEWER_SYS_SITES",
      "ONGOING_CLNUP_PLAN",
      "ONGOING_CLNUP_SITES",
      "OTH_DISCH_PT_PLAN",
      "OTH_DISCH_PT_SITES",
      "REMOV_CONT_PLAN",
      "REMOV_CONT_SITES",
      "RISK_MGMT_PLAN_PLAN",
      "RISK_MGMT_PLAN_SITES",
      "WASTE_WATER_SYS_PLAN",
      "WASTE_WATER_SYS_SITES",
      "WATERCRS_PLAN",
      "WATERCRS_SITES",
      "NUM_VEHICLES",
      "VEH_SALT_APP",
      "VEH_CONV",
      "VEH_PREWET_EQ",
      "VEH_DLA",
      "REG_CALIB",
      "REG_CALIB_TOT",
      "IR_THRM_REL",
      "IR_THRM_TOT",
      "MET_SVC_REL",
      "FIX_RWIS_REL",
      "FIX_RWIS_TOT",
      "MOB_RWIS_REL",
      "MOB_RWIS_TOT",
      "AVL_REL",
      "AVL_TOT",
      "SALT_APP_RATE_REL",
      "SALT_APP_RATE_TOT",
      "APP_RATE_CHRT_REL",
      "APP_RATE_CHRT_TOT",
      "TEST_MDSS_REL",
      "TEST_SMDS_TOT",
      "SNOW_DISP_SITE_USED",
      "SNOW_DISP_SITE_TOT",
      "SNOW_MELT_USED",
      "MELTWATER_DISP_METH_USED",
      "COMP_INV",
      "SET_VULN_AREAS",
      "ACT_PLAN_PREP",
      "PROT_MEAS_IMPL",
      "ENV_MON_COND",
      "AQUA_LIFE_AREA_ID",
      "AQUA_LIFE_CHLOR_ID",
      "AQUA_LIFE_PROT_ID",
      "DELIM_AREA_ID",
      "DELIM_AREA_CHLOR_ID",
      "DELIM_AREA_PROT_ID",
      "DRINK_WATER_AREA_ID",
      "DRINK_WATER_CHLOR_ID",
      "DRINK_WATER_PROT_ID",
      "VAL_LANDS_AREA_ID",
      "VAL_LANDS_CHLOR_ID",
      "VAL_LANDS_PROT_ID",
      "WETLANDS_AREA_ID",
      "WETLANDS_CHLOR_ID",
      "WETLANDS_PROT_ID",
      "CONCURRENCY_CONTROL_NUMBER",
      "APP_CREATE_USERID",
      "APP_CREATE_TIMESTAMP",
      "APP_CREATE_USER_GUID",
      "APP_CREATE_USER_DIRECTORY",
      "APP_LAST_UPDATE_USERID",
      "APP_LAST_UPDATE_TIMESTAMP",
      "APP_LAST_UPDATE_USER_GUID",
      "APP_LAST_UPDATE_USER_DIRECTORY"
    from inserted;

END TRY
BEGIN CATCH
   IF @@trancount > 0 ROLLBACK TRANSACTION
   EXEC hmr_error_handling
END CATCH;
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] ENABLE TRIGGER [HMR_SLTRPT_PK_I_S_I_TR]
GO
/****** Object:  Trigger [dbo].[HMR_SLTRPT_PK_I_S_U_TR]    Script Date: 2024-04-16 11:48:32 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE TRIGGER [dbo].[HMR_SLTRPT_PK_I_S_U_TR] ON [dbo].[HMR_SALT_REPORT] INSTEAD OF UPDATE AS
SET NOCOUNT ON
BEGIN TRY
  IF NOT EXISTS(SELECT * FROM deleted) 
    RETURN;

  -- validate concurrency control
  if exists (select 1 from inserted, deleted where inserted.CONCURRENCY_CONTROL_NUMBER != deleted.CONCURRENCY_CONTROL_NUMBER+1 AND inserted.SALT_REPORT_ID = deleted.SALT_REPORT_ID)
    raiserror('CONCURRENCY FAILURE.',16,1)


  -- update statement
  update HMR_SALT_REPORT
    set "SALT_REPORT_ID" = inserted."SALT_REPORT_ID",
      "SERVICE_AREA" = inserted."SERVICE_AREA",
      "CNTCT_NAME" = inserted."CNTCT_NAME",
      "EMAIL" = inserted."EMAIL",
      "TEL" = inserted."TEL",
      "PLAN_DEV" = inserted."PLAN_DEV",
      "PLAN_REV" = inserted."PLAN_REV",
      "PLAN_UPD" = inserted."PLAN_UPD",
      "MGR_TRAIN" = inserted."MGR_TRAIN",
      "SUPV_TRAIN" = inserted."SUPV_TRAIN",
      "OPR_TRAIN" = inserted."OPR_TRAIN",
      "MECH_TRAIN" = inserted."MECH_TRAIN",
      "PATR_TRAIN" = inserted."PATR_TRAIN",
      "MAT_STOR_ID" = inserted."MAT_STOR_ID",
      "MAT_STOR_ACH" = inserted."MAT_STOR_ACH",
      "SALT_APP_ID" = inserted."SALT_APP_ID",
      "SALT_APP_ACH" = inserted."SALT_APP_ACH",
      "RD_TOT_LEN" = inserted."RD_TOT_LEN",
      "SALT_TOT_DAYS" = inserted."SALT_TOT_DAYS",
      "DEICER_NACL" = inserted."DEICER_NACL",
      "DEICER_MGCL2" = inserted."DEICER_MGCL2",
      "DEICER_CACL2" = inserted."DEICER_CACL2",
      "DEICER_ACET" = inserted."DEICER_ACET",
      "TRTD_ABR_SDST" = inserted."TRTD_ABR_SDST",
      "TRTD_ABR_NACL" = inserted."TRTD_ABR_NACL",
      "TRTD_ABR_MGCL2" = inserted."TRTD_ABR_MGCL2",
      "TRTD_ABR_CACL2" = inserted."TRTD_ABR_CACL2",
      "PRWT_NACL" = inserted."PRWT_NACL",
      "PRWT_MGCL2" = inserted."PRWT_MGCL2",
      "PRWT_CACL2" = inserted."PRWT_CACL2",
      "PRWT_ACET" = inserted."PRWT_ACET",
      "PRWT_NONCL" = inserted."PRWT_NONCL",
      "PRTT_NACL" = inserted."PRTT_NACL",
      "PRTT_MGCL2" = inserted."PRTT_MGCL2",
      "PRTT_CACL2" = inserted."PRTT_CACL2",
      "PRTT_ACET" = inserted."PRTT_ACET",
      "PRTT_NONCL" = inserted."PRTT_NONCL",
      "ANTIC_NACL" = inserted."ANTIC_NACL",
      "ANTIC_MGCL2" = inserted."ANTIC_MGCL2",
      "ANTIC_CACL2" = inserted."ANTIC_CACL2",
      "ANTIC_ACET" = inserted."ANTIC_ACET",
      "ANTIC_NONCL" = inserted."ANTIC_NONCL",
      "MULTICHL_A_CACL2_PCT" = inserted."MULTICHL_A_CACL2_PCT",
      "MULTICHL_A_LTRS" = inserted."MULTICHL_A_LTRS",
      "MULTICHL_A_NACL_PCT" = inserted."MULTICHL_A_NACL_PCT",
      "MULTICHL_A_MGCL2_PCT" = inserted."MULTICHL_A_MGCL2_PCT",
      "MULTICHL_B_LTRS" = inserted."MULTICHL_B_LTRS",
      "MULTICHL_B_MGCL2_PCT" = inserted."MULTICHL_B_MGCL2_PCT",
      "MULTICHL_B_NACL_PCT" = inserted."MULTICHL_B_NACL_PCT",
      "MULTICHL_B_CACL2_PCT" = inserted."MULTICHL_B_CACL2_PCT",
      "SALT_STRG_SITES_TOT" = inserted."SALT_STRG_SITES_TOT",
      "ALL_MAT_HNDL_PLAN" = inserted."ALL_MAT_HNDL_PLAN",
      "ALL_MAT_HNDL_SITES" = inserted."ALL_MAT_HNDL_SITES",
      "CTRL_DIV_EXT_WAT_PLAN" = inserted."CTRL_DIV_EXT_WAT_PLAN",
      "CTRL_DIV_EXT_WAT_SITES" = inserted."CTRL_DIV_EXT_WAT_SITES",
      "DRAIN_COLL_SYS_PLAN" = inserted."DRAIN_COLL_SYS_PLAN",
      "DRAIN_COLL_SYS_SITES" = inserted."DRAIN_COLL_SYS_SITES",
      "EQP_PRVNT_OVRLOAD_PLAN" = inserted."EQP_PRVNT_OVRLOAD_PLAN",
      "EQP_PRVNT_OVRLOAD_SITES" = inserted."EQP_PRVNT_OVRLOAD_SITES",
      "MUN_SEWER_SYS_PLAN" = inserted."MUN_SEWER_SYS_PLAN",
      "MUN_SEWER_SYS_SITES" = inserted."MUN_SEWER_SYS_SITES",
      "ONGOING_CLNUP_PLAN" = inserted."ONGOING_CLNUP_PLAN",
      "ONGOING_CLNUP_SITES" = inserted."ONGOING_CLNUP_SITES",
      "OTH_DISCH_PT_PLAN" = inserted."OTH_DISCH_PT_PLAN",
      "OTH_DISCH_PT_SITES" = inserted."OTH_DISCH_PT_SITES",
      "REMOV_CONT_PLAN" = inserted."REMOV_CONT_PLAN",
      "REMOV_CONT_SITES" = inserted."REMOV_CONT_SITES",
      "RISK_MGMT_PLAN_PLAN" = inserted."RISK_MGMT_PLAN_PLAN",
      "RISK_MGMT_PLAN_SITES" = inserted."RISK_MGMT_PLAN_SITES",
      "WASTE_WATER_SYS_PLAN" = inserted."WASTE_WATER_SYS_PLAN",
      "WASTE_WATER_SYS_SITES" = inserted."WASTE_WATER_SYS_SITES",
      "WATERCRS_PLAN" = inserted."WATERCRS_PLAN",
      "WATERCRS_SITES" = inserted."WATERCRS_SITES",
      "NUM_VEHICLES" = inserted."NUM_VEHICLES",
      "VEH_SALT_APP" = inserted."VEH_SALT_APP",
      "VEH_CONV" = inserted."VEH_CONV",
      "VEH_PREWET_EQ" = inserted."VEH_PREWET_EQ",
      "VEH_DLA" = inserted."VEH_DLA",
      "REG_CALIB" = inserted."REG_CALIB",
      "REG_CALIB_TOT" = inserted."REG_CALIB_TOT",
      "IR_THRM_REL" = inserted."IR_THRM_REL",
      "IR_THRM_TOT" = inserted."IR_THRM_TOT",
      "MET_SVC_REL" = inserted."MET_SVC_REL",
      "FIX_RWIS_REL" = inserted."FIX_RWIS_REL",
      "FIX_RWIS_TOT" = inserted."FIX_RWIS_TOT",
      "MOB_RWIS_REL" = inserted."MOB_RWIS_REL",
      "MOB_RWIS_TOT" = inserted."MOB_RWIS_TOT",
      "AVL_REL" = inserted."AVL_REL",
      "AVL_TOT" = inserted."AVL_TOT",
      "SALT_APP_RATE_REL" = inserted."SALT_APP_RATE_REL",
      "SALT_APP_RATE_TOT" = inserted."SALT_APP_RATE_TOT",
      "APP_RATE_CHRT_REL" = inserted."APP_RATE_CHRT_REL",
      "APP_RATE_CHRT_TOT" = inserted."APP_RATE_CHRT_TOT",
      "TEST_MDSS_REL" = inserted."TEST_MDSS_REL",
      "TEST_SMDS_TOT" = inserted."TEST_SMDS_TOT",
      "SNOW_DISP_SITE_USED" = inserted."SNOW_DISP_SITE_USED",
      "SNOW_DISP_SITE_TOT" = inserted."SNOW_DISP_SITE_TOT",
      "SNOW_MELT_USED" = inserted."SNOW_MELT_USED",
      "MELTWATER_DISP_METH_USED" = inserted."MELTWATER_DISP_METH_USED",
      "COMP_INV" = inserted."COMP_INV",
      "SET_VULN_AREAS" = inserted."SET_VULN_AREAS",
      "ACT_PLAN_PREP" = inserted."ACT_PLAN_PREP",
      "PROT_MEAS_IMPL" = inserted."PROT_MEAS_IMPL",
      "ENV_MON_COND" = inserted."ENV_MON_COND",
      "AQUA_LIFE_AREA_ID" = inserted."AQUA_LIFE_AREA_ID",
      "AQUA_LIFE_CHLOR_ID" = inserted."AQUA_LIFE_CHLOR_ID",
      "AQUA_LIFE_PROT_ID" = inserted."AQUA_LIFE_PROT_ID",
      "DELIM_AREA_ID" = inserted."DELIM_AREA_ID",
      "DELIM_AREA_CHLOR_ID" = inserted."DELIM_AREA_CHLOR_ID",
      "DELIM_AREA_PROT_ID" = inserted."DELIM_AREA_PROT_ID",
      "DRINK_WATER_AREA_ID" = inserted."DRINK_WATER_AREA_ID",
      "DRINK_WATER_CHLOR_ID" = inserted."DRINK_WATER_CHLOR_ID",
      "DRINK_WATER_PROT_ID" = inserted."DRINK_WATER_PROT_ID",
      "VAL_LANDS_AREA_ID" = inserted."VAL_LANDS_AREA_ID",
      "VAL_LANDS_CHLOR_ID" = inserted."VAL_LANDS_CHLOR_ID",
      "VAL_LANDS_PROT_ID" = inserted."VAL_LANDS_PROT_ID",
      "WETLANDS_AREA_ID" = inserted."WETLANDS_AREA_ID",
      "WETLANDS_CHLOR_ID" = inserted."WETLANDS_CHLOR_ID",
      "WETLANDS_PROT_ID" = inserted."WETLANDS_PROT_ID",
      "CONCURRENCY_CONTROL_NUMBER" = inserted."CONCURRENCY_CONTROL_NUMBER",
      "APP_LAST_UPDATE_USERID" = inserted."APP_LAST_UPDATE_USERID",
      "APP_LAST_UPDATE_TIMESTAMP" = inserted."APP_LAST_UPDATE_TIMESTAMP",
      "APP_LAST_UPDATE_USER_GUID" = inserted."APP_LAST_UPDATE_USER_GUID",
      "APP_LAST_UPDATE_USER_DIRECTORY" = inserted."APP_LAST_UPDATE_USER_DIRECTORY"
    , DB_AUDIT_LAST_UPDATE_TIMESTAMP = getutcdate()
    , DB_AUDIT_LAST_UPDATE_USERID = user_name()
    from HMR_SALT_REPORT
    inner join inserted
    on (HMR_SALT_REPORT.SALT_REPORT_ID = inserted.SALT_REPORT_ID);

END TRY
BEGIN CATCH
   IF @@trancount > 0 ROLLBACK TRANSACTION
   EXEC hmr_error_handling
END CATCH;
GO
ALTER TABLE [dbo].[HMR_SALT_REPORT] ENABLE TRIGGER [HMR_SLTRPT_PK_I_S_U_TR]
GO
/****** Object:  Trigger [dbo].[HMR_SLTSTP_PK_A_S_IUD_TR]    Script Date: 2024-04-16 11:48:33 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE TRIGGER [dbo].[HMR_SLTSTP_PK_A_S_IUD_TR] ON [dbo].[HMR_SALT_STOCKPILE] FOR INSERT, UPDATE, DELETE AS
SET NOCOUNT ON
BEGIN TRY
DECLARE @curr_date datetime;
SET @curr_date = getutcdate();
  IF NOT EXISTS(SELECT * FROM inserted) AND NOT EXISTS(SELECT * FROM deleted) 
    RETURN;

  -- historical
  IF EXISTS(SELECT * FROM deleted)
    update HMR_SALT_STOCKPILE_HIST set END_DATE_HIST = @curr_date where STOCKPILE_ID in (select STOCKPILE_ID from deleted) and END_DATE_HIST is null;
  
  IF EXISTS(SELECT * FROM inserted)
    insert into HMR_SALT_STOCKPILE_HIST ([STOCKPILE_ID], [MOTI_OWNED], [SALT_REPORT_ID], [ROAD_SALT_ON_IMPERMEABLE_SURFACE], [ROAD_SALT_STOCKPILES_TOTAL], [ROAD_SALT_UNDER_PERMANENT_ROOF], [ROAD_SALT_UNDER_TARP], [SITE_NAME], [TREATED_ABRASIVES_ON_IMPERMEABLE_SURFACE], [TREATED_ABRASIVES_STOCKPILES_TOTAL], [TREATED_ABRASIVES_UNDER_PERMANENT_ROOF], [TREATED_ABRASIVES_UNDER_TARP], [CONCURRENCY_CONTROL_NUMBER], [APP_CREATE_USERID], [APP_CREATE_TIMESTAMP], [APP_CREATE_USER_GUID], [APP_CREATE_USER_DIRECTORY], [APP_LAST_UPDATE_USERID], [APP_LAST_UPDATE_TIMESTAMP], [APP_LAST_UPDATE_USER_GUID], [APP_LAST_UPDATE_USER_DIRECTORY], [DB_AUDIT_CREATE_USERID], [DB_AUDIT_CREATE_TIMESTAMP], [DB_AUDIT_LAST_UPDATE_USERID], [DB_AUDIT_LAST_UPDATE_TIMESTAMP], SALT_STOCKPILE_HIST_ID, END_DATE_HIST, EFFECTIVE_DATE_HIST)
      select [STOCKPILE_ID], [MOTI_OWNED], [SALT_REPORT_ID], [ROAD_SALT_ON_IMPERMEABLE_SURFACE], [ROAD_SALT_STOCKPILES_TOTAL], [ROAD_SALT_UNDER_PERMANENT_ROOF], [ROAD_SALT_UNDER_TARP], [SITE_NAME], [TREATED_ABRASIVES_ON_IMPERMEABLE_SURFACE], [TREATED_ABRASIVES_STOCKPILES_TOTAL], [TREATED_ABRASIVES_UNDER_PERMANENT_ROOF], [TREATED_ABRASIVES_UNDER_TARP], [CONCURRENCY_CONTROL_NUMBER], [APP_CREATE_USERID], [APP_CREATE_TIMESTAMP], [APP_CREATE_USER_GUID], [APP_CREATE_USER_DIRECTORY], [APP_LAST_UPDATE_USERID], [APP_LAST_UPDATE_TIMESTAMP], [APP_LAST_UPDATE_USER_GUID], [APP_LAST_UPDATE_USER_DIRECTORY], [DB_AUDIT_CREATE_USERID], [DB_AUDIT_CREATE_TIMESTAMP], [DB_AUDIT_LAST_UPDATE_USERID], [DB_AUDIT_LAST_UPDATE_TIMESTAMP], (next value for [dbo].[HMR_SALT_STOCKPILE_H_ID_SEQ]) as [SALT_STOCKPILE_HIST_ID], null as [END_DATE_HIST], @curr_date as [EFFECTIVE_DATE_HIST] from inserted;

END TRY
BEGIN CATCH
   IF @@trancount > 0 ROLLBACK TRANSACTION
   EXEC hmr_error_handling
END CATCH;
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] ENABLE TRIGGER [HMR_SLTSTP_PK_A_S_IUD_TR]
GO
/****** Object:  Trigger [dbo].[HMR_SLTSTP_PK_I_S_I_TR]    Script Date: 2024-04-16 11:48:33 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE TRIGGER [dbo].[HMR_SLTSTP_PK_I_S_I_TR] ON [dbo].[HMR_SALT_STOCKPILE] INSTEAD OF INSERT AS
SET NOCOUNT ON
BEGIN TRY
  IF NOT EXISTS(SELECT * FROM inserted) 
    RETURN;

  
  insert into HMR_SALT_STOCKPILE ("STOCKPILE_ID",
      "MOTI_OWNED",
      "SALT_REPORT_ID",
      "ROAD_SALT_ON_IMPERMEABLE_SURFACE",
      "ROAD_SALT_STOCKPILES_TOTAL",
      "ROAD_SALT_UNDER_PERMANENT_ROOF",
      "ROAD_SALT_UNDER_TARP",
      "SITE_NAME",
      "TREATED_ABRASIVES_ON_IMPERMEABLE_SURFACE",
      "TREATED_ABRASIVES_STOCKPILES_TOTAL",
      "TREATED_ABRASIVES_UNDER_PERMANENT_ROOF",
      "TREATED_ABRASIVES_UNDER_TARP",
      "CONCURRENCY_CONTROL_NUMBER",
      "APP_CREATE_USERID",
      "APP_CREATE_TIMESTAMP",
      "APP_CREATE_USER_GUID",
      "APP_CREATE_USER_DIRECTORY",
      "APP_LAST_UPDATE_USERID",
      "APP_LAST_UPDATE_TIMESTAMP",
      "APP_LAST_UPDATE_USER_GUID",
      "APP_LAST_UPDATE_USER_DIRECTORY")
    select "STOCKPILE_ID",
      "MOTI_OWNED",
      "SALT_REPORT_ID",
      "ROAD_SALT_ON_IMPERMEABLE_SURFACE",
      "ROAD_SALT_STOCKPILES_TOTAL",
      "ROAD_SALT_UNDER_PERMANENT_ROOF",
      "ROAD_SALT_UNDER_TARP",
      "SITE_NAME",
      "TREATED_ABRASIVES_ON_IMPERMEABLE_SURFACE",
      "TREATED_ABRASIVES_STOCKPILES_TOTAL",
      "TREATED_ABRASIVES_UNDER_PERMANENT_ROOF",
      "TREATED_ABRASIVES_UNDER_TARP",
      "CONCURRENCY_CONTROL_NUMBER",
      "APP_CREATE_USERID",
      "APP_CREATE_TIMESTAMP",
      "APP_CREATE_USER_GUID",
      "APP_CREATE_USER_DIRECTORY",
      "APP_LAST_UPDATE_USERID",
      "APP_LAST_UPDATE_TIMESTAMP",
      "APP_LAST_UPDATE_USER_GUID",
      "APP_LAST_UPDATE_USER_DIRECTORY"
    from inserted;

END TRY
BEGIN CATCH
   IF @@trancount > 0 ROLLBACK TRANSACTION
   EXEC hmr_error_handling
END CATCH;
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] ENABLE TRIGGER [HMR_SLTSTP_PK_I_S_I_TR]
GO
/****** Object:  Trigger [dbo].[HMR_SLTSTP_PK_I_S_U_TR]    Script Date: 2024-04-16 11:48:33 AM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE TRIGGER [dbo].[HMR_SLTSTP_PK_I_S_U_TR] ON [dbo].[HMR_SALT_STOCKPILE] INSTEAD OF UPDATE AS
SET NOCOUNT ON
BEGIN TRY
  IF NOT EXISTS(SELECT * FROM deleted) 
    RETURN;

  -- validate concurrency control
  if exists (select 1 from inserted, deleted where inserted.CONCURRENCY_CONTROL_NUMBER != deleted.CONCURRENCY_CONTROL_NUMBER+1 AND inserted.STOCKPILE_ID = deleted.STOCKPILE_ID)
    raiserror('CONCURRENCY FAILURE.',16,1)


  -- update statement
  update HMR_SALT_STOCKPILE
    set "STOCKPILE_ID" = inserted."STOCKPILE_ID",
      "MOTI_OWNED" = inserted."MOTI_OWNED",
      "SALT_REPORT_ID" = inserted."SALT_REPORT_ID",
      "ROAD_SALT_ON_IMPERMEABLE_SURFACE" = inserted."ROAD_SALT_ON_IMPERMEABLE_SURFACE",
      "ROAD_SALT_STOCKPILES_TOTAL" = inserted."ROAD_SALT_STOCKPILES_TOTAL",
      "ROAD_SALT_UNDER_PERMANENT_ROOF" = inserted."ROAD_SALT_UNDER_PERMANENT_ROOF",
      "ROAD_SALT_UNDER_TARP" = inserted."ROAD_SALT_UNDER_TARP",
      "SITE_NAME" = inserted."SITE_NAME",
      "TREATED_ABRASIVES_ON_IMPERMEABLE_SURFACE" = inserted."TREATED_ABRASIVES_ON_IMPERMEABLE_SURFACE",
      "TREATED_ABRASIVES_STOCKPILES_TOTAL" = inserted."TREATED_ABRASIVES_STOCKPILES_TOTAL",
      "TREATED_ABRASIVES_UNDER_PERMANENT_ROOF" = inserted."TREATED_ABRASIVES_UNDER_PERMANENT_ROOF",
      "TREATED_ABRASIVES_UNDER_TARP" = inserted."TREATED_ABRASIVES_UNDER_TARP",
      "CONCURRENCY_CONTROL_NUMBER" = inserted."CONCURRENCY_CONTROL_NUMBER",
      "APP_LAST_UPDATE_USERID" = inserted."APP_LAST_UPDATE_USERID",
      "APP_LAST_UPDATE_TIMESTAMP" = inserted."APP_LAST_UPDATE_TIMESTAMP",
      "APP_LAST_UPDATE_USER_GUID" = inserted."APP_LAST_UPDATE_USER_GUID",
      "APP_LAST_UPDATE_USER_DIRECTORY" = inserted."APP_LAST_UPDATE_USER_DIRECTORY"
    , DB_AUDIT_LAST_UPDATE_TIMESTAMP = getutcdate()
    , DB_AUDIT_LAST_UPDATE_USERID = user_name()
    from HMR_SALT_STOCKPILE
    inner join inserted
    on (HMR_SALT_STOCKPILE.STOCKPILE_ID = inserted.STOCKPILE_ID);

END TRY
BEGIN CATCH
   IF @@trancount > 0 ROLLBACK TRANSACTION
   EXEC hmr_error_handling
END CATCH;
GO
ALTER TABLE [dbo].[HMR_SALT_STOCKPILE] ENABLE TRIGGER [HMR_SLTSTP_PK_I_S_U_TR]
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Has your organization developed and implemented a salt management plan that covers all elements described in
the Code of Practice?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PLAN_DEV'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.2 In the past year, did your organization conduct a review of its salt management plan?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PLAN_REV'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.3 In the past year, did your organization update its salt management plan?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PLAN_UPD'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.4 In the past year, was a training program offered to personnel involved in winter maintenance operations and
decision making?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MGR_TRAIN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.4 In the past year, was a training program offered to personnel involved in winter maintenance operations and' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SUPV_TRAIN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.4 In the past year, was a training program offered to personnel involved in winter maintenance operations and' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'OPR_TRAIN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.4 In the past year, was a training program offered to personnel involved in winter maintenance operations and' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MECH_TRAIN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.4 In the past year, was a training program offered to personnel involved in winter maintenance operations and' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PATR_TRAIN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.5 Indicate the number of objectives1 that were identified and achieved for this year in your salt management plan' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MAT_STOR_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.5 Indicate the number of objectives1 that were identified and achieved for this year in your salt management plan' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MAT_STOR_ACH'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.5 Indicate the number of objectives1 that were identified and achieved for this year in your salt management plan' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SALT_APP_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'1.5 Indicate the number of objectives1 that were identified and achieved for this year in your salt management plan' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SALT_APP_ACH'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'2.2 What is the total length of road on which any salt is applied in your Service Area (roads with or without abrasive)?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'RD_TOT_LEN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'2.3 What was the total number of days requiring salt application for winter road maintenance during the winter season?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SALT_TOT_DAYS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Provide the total quantity of material deicers used for winter road maintenance' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DEICER_NACL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Provide the total quantity of material deicers used for winter road maintenance' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DEICER_MGCL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Provide the total quantity of material deicers used for winter road maintenance' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DEICER_CACL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Provide the total quantity of material deicers used for winter road maintenance' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DEICER_ACET'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify the types & quantities' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'TRTD_ABR_SDST'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify the types & quantities' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'TRTD_ABR_NACL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify the types & quantities' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'TRTD_ABR_MGCL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify the types & quantities' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'TRTD_ABR_CACL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
sprayed (with on-board
equipment) to the solid de-icing
agent or the abrasive directly as
it is spread or discharged from
the truck to the pavement' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRWT_NACL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
sprayed (with on-board
equipment) to the solid de-icing
agent or the abrasive directly as
it is spread or discharged from
the truck to the pavement' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRWT_MGCL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
sprayed (with on-board
equipment) to the solid de-icing
agent or the abrasive directly as
it is spread or discharged from
the truck to the pavement' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRWT_CACL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
sprayed (with on-board
equipment) to the solid de-icing
agent or the abrasive directly as
it is spread or discharged from
the truck to the pavement' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRWT_ACET'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
sprayed (with on-board
equipment) to the solid de-icing
agent or the abrasive directly as
it is spread or discharged from
the truck to the pavement' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRWT_NONCL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
added to the solid de-icer and
the abrasive at the time it is
stockpiled at the storage site or
added by the supplier before
delivery' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRTT_NACL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
added to the solid de-icer and
the abrasive at the time it is
stockpiled at the storage site or
added by the supplier before
delivery' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRTT_MGCL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
added to the solid de-icer and
the abrasive at the time it is
stockpiled at the storage site or
added by the supplier before
delivery' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRTT_CACL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
added to the solid de-icer and
the abrasive at the time it is
stockpiled at the storage site or
added by the supplier before
delivery' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRTT_ACET'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product
added to the solid de-icer and
the abrasive at the time it is
stockpiled at the storage site or
added by the supplier before
delivery' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PRTT_NONCL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product that
is sprayed directly on the
pavement surface with a truck or
by a sprayer system before a storm or the
formation of frost.' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ANTIC_NACL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product that
is sprayed directly on the
pavement surface with a truck or
by a sprayer system before a storm or the
formation of frost.' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ANTIC_MGCL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product that
is sprayed directly on the
pavement surface with a truck or
by a sprayer system before a storm or the
formation of frost.' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ANTIC_CACL2'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product that
is sprayed directly on the
pavement surface with a truck or
by a sprayer system before a storm or the
formation of frost.' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ANTIC_ACET'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Concentrated liquid product that
is sprayed directly on the
pavement surface with a truck or
by a sprayer system before a storm or the
formation of frost.' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ANTIC_NONCL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'If your organization uses multi-chloride liquids, specify litres used and concentration for each salt in the liquid:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MULTICHL_A_CACL2_PCT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'If your organization uses multi-chloride liquids, specify litres used and concentration for each salt in the liquid:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MULTICHL_A_LTRS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'If your organization uses multi-chloride liquids, specify litres used and concentration for each salt in the liquid:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MULTICHL_A_NACL_PCT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'If your organization uses multi-chloride liquids, specify litres used and concentration for each salt in the liquid:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MULTICHL_A_MGCL2_PCT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'If your organization uses multi-chloride liquids, specify litres used and concentration for each salt in the liquid:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MULTICHL_B_LTRS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'If your organization uses multi-chloride liquids, specify litres used and concentration for each salt in the liquid:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MULTICHL_B_MGCL2_PCT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'If your organization uses multi-chloride liquids, specify litres used and concentration for each salt in the liquid:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MULTICHL_B_NACL_PCT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'If your organization uses multi-chloride liquids, specify litres used and concentration for each salt in the liquid:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MULTICHL_B_CACL2_PCT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'4.1 How many salt storage sites (locations, not stockpiles) are in your Service Area?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SALT_STRG_SITES_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'All materials are handled in a designated area characterized by an impermeable' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ALL_MAT_HNDL_PLAN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'All materials are handled in a designated area characterized by an impermeable' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ALL_MAT_HNDL_SITES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Control and diversion of external waters (non salt impacted)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'CTRL_DIV_EXT_WAT_PLAN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Control and diversion of external waters (non salt impacted)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'CTRL_DIV_EXT_WAT_SITES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Drainage inside with collection systems for runoff of salt contaminated waters' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DRAIN_COLL_SYS_PLAN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Drainage inside with collection systems for runoff of salt contaminated waters' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DRAIN_COLL_SYS_SITES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Equipment to prevent overloading of trucks' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'EQP_PRVNT_OVRLOAD_PLAN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Equipment to prevent overloading of trucks' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'EQP_PRVNT_OVRLOAD_SITES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify discharge point into:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MUN_SEWER_SYS_PLAN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify discharge point into:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MUN_SEWER_SYS_SITES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Ongoing cleanup of the site surfaces, and spilled material is swept up quickly' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ONGOING_CLNUP_PLAN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Ongoing cleanup of the site surfaces, and spilled material is swept up quickly' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ONGOING_CLNUP_SITES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify discharge point into:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'OTH_DISCH_PT_PLAN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify discharge point into:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'OTH_DISCH_PT_SITES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify discharge point into:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'REMOV_CONT_PLAN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Specify discharge point into:' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'REMOV_CONT_SITES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Risk management and emergency measures plans are in place' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'RISK_MGMT_PLAN_PLAN'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Risk management and emergency measures plans are in place' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'RISK_MGMT_PLAN_SITES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'5.1 a) Indicate the total number of vehicles (trucks) used for winter maintenance' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'NUM_VEHICLES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Total number of vehicles assigned to solid salt application' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'VEH_SALT_APP'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Vehicles with conveyors and ground speed sensor electronic controller' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'VEH_CONV'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Vehicles equipped with pre-wetting equipment' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'VEH_PREWET_EQ'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Vehicles designed for direct liquid application (DLA)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'VEH_DLA'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Spreading equipment is regularly calibrated?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'REG_CALIB'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Frequency of regular calibration' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'REG_CALIB_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the sources of information your organization relies on to make decisions for winter event responses,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'IR_THRM_REL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the sources of information your organization relies on to make decisions for winter event responses,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'IR_THRM_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the sources of information your organization relies on to make decisions for winter event responses,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MET_SVC_REL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the sources of information your organization relies on to make decisions for winter event responses,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'FIX_RWIS_REL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the sources of information your organization relies on to make decisions for winter event responses,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'FIX_RWIS_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the sources of information your organization relies on to make decisions for winter event responses,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MOB_RWIS_REL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the sources of information your organization relies on to make decisions for winter event responses,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MOB_RWIS_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the type of system your organization relies on to help improve decision making for maintenance strategy,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'AVL_REL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the type of system your organization relies on to help improve decision making for maintenance strategy,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'AVL_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the type of system your organization relies on to help improve decision making for maintenance strategy,' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SALT_APP_RATE_REL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Indicate the type of system your organization relies on to help improve decision making for maintenance strategy: Record of Salt application rates' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SALT_APP_RATE_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Use of a chart for application rates adapted to road or temperature' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'APP_RATE_CHRT_REL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Use of a chart for application rates adapted to road or temperature' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'APP_RATE_CHRT_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Testing of Maintenance Decisions Support System (MDSS)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'TEST_MDSS_REL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Testing of Maintenance Decisions Support System (MDSS)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'TEST_SMDS_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Does your organization perform snow disposal at a designated site?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SNOW_DISP_SITE_TOT'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'6.2 Does your organization use snow melters?' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SNOW_MELT_USED'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'6.3 Is the meltwater from snow melters discharged though the storm' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'MELTWATER_DISP_METH_USED'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'7.1 Has your organization completed an inventory of salt vulnerable areas within' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'COMP_INV'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'7.2 Do you have salt vulnerable areas within your Service Area? (provide list below)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'SET_VULN_AREAS'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'7.3 Has your organization prepared an action plan to prioritize areas where' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ACT_PLAN_PREP'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'7.4 Did your organization implement supplementary and specific protection or' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'PROT_MEAS_IMPL'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'7.5 Does your organization conduct environmental monitoring to measure impacts of' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'ENV_MON_COND'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Aquatic Life (lake and watercourse)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'AQUA_LIFE_AREA_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Aquatic Life (lake and watercourse)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'AQUA_LIFE_CHLOR_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Aquatic Life (lake and watercourse)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'AQUA_LIFE_PROT_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Delimited areas with terrestrial fauna/flora' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DELIM_AREA_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Delimited areas with terrestrial fauna/flora' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DELIM_AREA_CHLOR_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Delimited areas with terrestrial fauna/flora' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DELIM_AREA_PROT_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Drinking water (surface or ground water)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DRINK_WATER_AREA_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Drinking water (surface or ground water)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DRINK_WATER_CHLOR_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Drinking water (surface or ground water)' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'DRINK_WATER_PROT_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Valued Lands' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'VAL_LANDS_AREA_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Valued Lands' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'VAL_LANDS_CHLOR_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Valued Lands' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'VAL_LANDS_PROT_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Wetlands and associated aquatic life' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'WETLANDS_AREA_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Wetlands and associated aquatic life' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'WETLANDS_CHLOR_ID'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'Types of Vulnerable Areas: Wetlands and associated aquatic life' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'HMR_SALT_REPORT', @level2type=N'COLUMN',@level2name=N'WETLANDS_PROT_ID'
GO
